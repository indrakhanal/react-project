{"ast":null,"code":"import _slicedToArray from\"C:/Users/S.K. COMPUTER/OneDrive/Desktop/react-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import GeneralChart from\"components/UI/Charts/General\";import{GeneralCard}from\"components/UI/GeneralCard\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import DataTable from\"./DataTable\";import{useTranslation}from\"react-i18next\";import{getNumberByLanguage}from\"i18n/i18n\";var DonoughtChart=function DonoughtChart(props){var _useTranslation=useTranslation([\"home\"]),t=_useTranslation.t;var _useState=useState(),_useState2=_slicedToArray(_useState,2),actualDistriBution=_useState2[0],setActualDisttribution=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),plannedDistriBution=_useState4[0],setPlannedDisttribution=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),actualTableData=_useState6[0],setActualTableData=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),plannedTableData=_useState8[0],setPlannedTableData=_useState8[1];useEffect(function(){var _props$maintainanceCo,_props$maintainanceCo2,_props$maintainanceCo3,_props$maintainanceCo4,_props$maintainanceCo5,_props$maintainanceCo6,_props$maintainanceCo7,_props$maintainanceCo8,_props$maintainanceCo9,_props$maintainanceCo10,_props$maintainanceCo11,_props$maintainanceCo12,_props$maintainanceCo13,_props$maintainanceCo14,_props$maintainanceCo15,_props$maintainanceCo16,_props$maintainanceCo17,_props$maintainanceCo18,_props$maintainanceCo19,_props$maintainanceCo20,_props$maintainanceCo21,_props$maintainanceCo22,_props$maintainanceCo23,_props$maintainanceCo24,_props$maintainanceCo25,_props$maintainanceCo26,_props$maintainanceCo27,_props$maintainanceCo28,_props$maintainanceCo29,_props$maintainanceCo30,_props$maintainanceCo31,_props$maintainanceCo32,_props$maintainanceCo33,_props$maintainanceCo34,_props$maintainanceCo35,_props$maintainanceCo36,_props$maintainanceCo37,_props$maintainanceCo38,_props$maintainanceCo39,_props$maintainanceCo40,_props$maintainanceCo41,_props$maintainanceCo42,_props$maintainanceCo43,_props$maintainanceCo44,_props$maintainanceCo45,_props$maintainanceCo46,_props$maintainanceCo47,_props$maintainanceCo48,_props$maintainanceCo49,_props$maintainanceCo50,_props$maintainanceCo51,_props$maintainanceCo52,_props$maintainanceCo53,_props$maintainanceCo54,_props$maintainanceCo55,_props$maintainanceCo56,_props$maintainanceCo57,_props$maintainanceCo58,_props$maintainanceCo59,_props$maintainanceCo60,_props$maintainanceCo61,_props$maintainanceCo62,_props$maintainanceCo63,_props$maintainanceCo64;console.log(props.maintainanceCostByYear,\"actualTableData\");var seriesActualData={this_year:[{value:((_props$maintainanceCo=props.maintainanceCostByYear)===null||_props$maintainanceCo===void 0?void 0:(_props$maintainanceCo2=_props$maintainanceCo.this_year_actual_cost)===null||_props$maintainanceCo2===void 0?void 0:_props$maintainanceCo2.labour_cost__sum)||0,name:\"Labour Cost\",itemStyle:{color:\"#2680eb\"}},{value:((_props$maintainanceCo3=props.maintainanceCostByYear)===null||_props$maintainanceCo3===void 0?void 0:(_props$maintainanceCo4=_props$maintainanceCo3.this_year_actual_cost)===null||_props$maintainanceCo4===void 0?void 0:_props$maintainanceCo4.material_cost__sum)||0,name:\"Consumable Cost\",itemStyle:{color:\"#69a7f1\"}},{value:((_props$maintainanceCo5=props.maintainanceCostByYear)===null||_props$maintainanceCo5===void 0?void 0:(_props$maintainanceCo6=_props$maintainanceCo5.this_year_actual_cost)===null||_props$maintainanceCo6===void 0?void 0:_props$maintainanceCo6.replacement_cost__sum)||0,name:\"Replacement Cost\",itemStyle:{color:\"#accef7\"}},{value:((_props$maintainanceCo7=props.maintainanceCostByYear)===null||_props$maintainanceCo7===void 0?void 0:(_props$maintainanceCo8=_props$maintainanceCo7.this_year_actual_cost)===null||_props$maintainanceCo8===void 0?void 0:_props$maintainanceCo8.unsegregated_cost)||0,name:\"Unsegregated Cost\",itemStyle:{color:\"#e5f1ff\"}}],all_time:[{value:((_props$maintainanceCo9=props.maintainanceCostByYear)===null||_props$maintainanceCo9===void 0?void 0:(_props$maintainanceCo10=_props$maintainanceCo9.all_time_actual_cost)===null||_props$maintainanceCo10===void 0?void 0:_props$maintainanceCo10.labour_cost__sum)||0,name:\"Labour Cost\",itemStyle:{color:\"#2680eb\"}},{value:((_props$maintainanceCo11=props.maintainanceCostByYear)===null||_props$maintainanceCo11===void 0?void 0:(_props$maintainanceCo12=_props$maintainanceCo11.all_time_actual_cost)===null||_props$maintainanceCo12===void 0?void 0:_props$maintainanceCo12.material_cost__sum)||0,name:\"Consumable Cost\",itemStyle:{color:\"#69a7f1\"}},{value:((_props$maintainanceCo13=props.maintainanceCostByYear)===null||_props$maintainanceCo13===void 0?void 0:(_props$maintainanceCo14=_props$maintainanceCo13.all_time_actual_cost)===null||_props$maintainanceCo14===void 0?void 0:_props$maintainanceCo14.replacement_cost__sum)||0,name:\"Replacement Cost\",itemStyle:{color:\"#accef7\"}},{value:((_props$maintainanceCo15=props.maintainanceCostByYear)===null||_props$maintainanceCo15===void 0?void 0:(_props$maintainanceCo16=_props$maintainanceCo15.all_time_actual_cost)===null||_props$maintainanceCo16===void 0?void 0:_props$maintainanceCo16.cost_total__sum)||0,name:\"Unsegregated Cost\",itemStyle:{color:\"#e5f1ff\"}}]};var seriesPlannedData={this_year:[{value:((_props$maintainanceCo17=props.maintainanceCostByYear)===null||_props$maintainanceCo17===void 0?void 0:(_props$maintainanceCo18=_props$maintainanceCo17.this_year_expected_cost)===null||_props$maintainanceCo18===void 0?void 0:_props$maintainanceCo18.labour_cost)||0,name:\"Labour Cost\",itemStyle:{color:\"#eb9126\"}},{value:((_props$maintainanceCo19=props.maintainanceCostByYear)===null||_props$maintainanceCo19===void 0?void 0:(_props$maintainanceCo20=_props$maintainanceCo19.this_year_expected_cost)===null||_props$maintainanceCo20===void 0?void 0:_props$maintainanceCo20.material_cost)||0,name:\"Consumable Cost\",itemStyle:{color:\"#f1b369\"}},{value:((_props$maintainanceCo21=props.maintainanceCostByYear)===null||_props$maintainanceCo21===void 0?void 0:(_props$maintainanceCo22=_props$maintainanceCo21.this_year_expected_cost)===null||_props$maintainanceCo22===void 0?void 0:_props$maintainanceCo22.replacement_cost)||0,name:\"Replacement Cost\",itemStyle:{color:\"#f7d5ac\"}},{value:((_props$maintainanceCo23=props.maintainanceCostByYear)===null||_props$maintainanceCo23===void 0?void 0:(_props$maintainanceCo24=_props$maintainanceCo23.this_year_expected_cost)===null||_props$maintainanceCo24===void 0?void 0:_props$maintainanceCo24.unsegregated_cost)||0,name:\"Unsegregated Cost\",itemStyle:{color:\"#ffefdb\"}}],all_time:[{value:((_props$maintainanceCo25=props.maintainanceCostByYear)===null||_props$maintainanceCo25===void 0?void 0:(_props$maintainanceCo26=_props$maintainanceCo25.all_time_expected_cost)===null||_props$maintainanceCo26===void 0?void 0:_props$maintainanceCo26.labour_cost)||0,name:\"Labour Cost\",itemStyle:{color:\"#eb9126\"}},{value:((_props$maintainanceCo27=props.maintainanceCostByYear)===null||_props$maintainanceCo27===void 0?void 0:(_props$maintainanceCo28=_props$maintainanceCo27.all_time_expected_cost)===null||_props$maintainanceCo28===void 0?void 0:_props$maintainanceCo28.material_cost)||0,name:\"Consumable Cost\",itemStyle:{color:\"#f1b369\"}},{value:((_props$maintainanceCo29=props.maintainanceCostByYear)===null||_props$maintainanceCo29===void 0?void 0:(_props$maintainanceCo30=_props$maintainanceCo29.all_time_expected_cost)===null||_props$maintainanceCo30===void 0?void 0:_props$maintainanceCo30.replacement_cost)||0,name:\"Replacement Cost\",itemStyle:{color:\"#f7d5ac\"}},{value:((_props$maintainanceCo31=props.maintainanceCostByYear)===null||_props$maintainanceCo31===void 0?void 0:(_props$maintainanceCo32=_props$maintainanceCo31.all_time_expected_cost)===null||_props$maintainanceCo32===void 0?void 0:_props$maintainanceCo32.unsegregated_cost)||0,name:\"Unsegregated Cost\",itemStyle:{color:\"#ffefdb\"}}]};var actualTableData=[{name:\"Labour Cost\",value:{this_year:((_props$maintainanceCo33=props.maintainanceCostByYear)===null||_props$maintainanceCo33===void 0?void 0:(_props$maintainanceCo34=_props$maintainanceCo33.this_year_actual_cost)===null||_props$maintainanceCo34===void 0?void 0:_props$maintainanceCo34.labour_cost__sum)||0,all_time:((_props$maintainanceCo35=props.maintainanceCostByYear)===null||_props$maintainanceCo35===void 0?void 0:(_props$maintainanceCo36=_props$maintainanceCo35.all_time_actual_cost)===null||_props$maintainanceCo36===void 0?void 0:_props$maintainanceCo36.labour_cost__sum)||0}},{name:\"Consumable Cost\",value:{this_year:((_props$maintainanceCo37=props.maintainanceCostByYear)===null||_props$maintainanceCo37===void 0?void 0:(_props$maintainanceCo38=_props$maintainanceCo37.this_year_actual_cost)===null||_props$maintainanceCo38===void 0?void 0:_props$maintainanceCo38.material_cost__sum)||0,all_time:((_props$maintainanceCo39=props.maintainanceCostByYear)===null||_props$maintainanceCo39===void 0?void 0:(_props$maintainanceCo40=_props$maintainanceCo39.all_time_actual_cost)===null||_props$maintainanceCo40===void 0?void 0:_props$maintainanceCo40.material_cost__sum)||0}},{name:\"Replacement Cost\",value:{this_year:((_props$maintainanceCo41=props.maintainanceCostByYear)===null||_props$maintainanceCo41===void 0?void 0:(_props$maintainanceCo42=_props$maintainanceCo41.this_year_actual_cost)===null||_props$maintainanceCo42===void 0?void 0:_props$maintainanceCo42.replacement_cost__sum)||0,all_time:((_props$maintainanceCo43=props.maintainanceCostByYear)===null||_props$maintainanceCo43===void 0?void 0:(_props$maintainanceCo44=_props$maintainanceCo43.all_time_actual_cost)===null||_props$maintainanceCo44===void 0?void 0:_props$maintainanceCo44.replacement_cost__sum)||0}},{name:\"Unsegregated Cost\",value:{this_year:((_props$maintainanceCo45=props.maintainanceCostByYear)===null||_props$maintainanceCo45===void 0?void 0:(_props$maintainanceCo46=_props$maintainanceCo45.this_year_actual_cost)===null||_props$maintainanceCo46===void 0?void 0:_props$maintainanceCo46.cost_total__sum)||0,all_time:((_props$maintainanceCo47=props.maintainanceCostByYear)===null||_props$maintainanceCo47===void 0?void 0:(_props$maintainanceCo48=_props$maintainanceCo47.all_time_actual_cost)===null||_props$maintainanceCo48===void 0?void 0:_props$maintainanceCo48.cost_total__sum)||0}}];var plannedTableData=[{name:\"Labour Cost\",value:{this_year:((_props$maintainanceCo49=props.maintainanceCostByYear)===null||_props$maintainanceCo49===void 0?void 0:(_props$maintainanceCo50=_props$maintainanceCo49.this_year_expected_cost)===null||_props$maintainanceCo50===void 0?void 0:_props$maintainanceCo50.labour_cost)||0,all_time:((_props$maintainanceCo51=props.maintainanceCostByYear)===null||_props$maintainanceCo51===void 0?void 0:(_props$maintainanceCo52=_props$maintainanceCo51.all_time_expected_cost)===null||_props$maintainanceCo52===void 0?void 0:_props$maintainanceCo52.labour_cost)||0}},{name:\"Consumable Cost\",value:{this_year:((_props$maintainanceCo53=props.maintainanceCostByYear)===null||_props$maintainanceCo53===void 0?void 0:(_props$maintainanceCo54=_props$maintainanceCo53.this_year_expected_cost)===null||_props$maintainanceCo54===void 0?void 0:_props$maintainanceCo54.material_cost)||0,all_time:((_props$maintainanceCo55=props.maintainanceCostByYear)===null||_props$maintainanceCo55===void 0?void 0:(_props$maintainanceCo56=_props$maintainanceCo55.all_time_expected_cost)===null||_props$maintainanceCo56===void 0?void 0:_props$maintainanceCo56.material_cost)||0}},{name:\"Replacement Cost\",value:{this_year:((_props$maintainanceCo57=props.maintainanceCostByYear)===null||_props$maintainanceCo57===void 0?void 0:(_props$maintainanceCo58=_props$maintainanceCo57.this_year_expected_cost)===null||_props$maintainanceCo58===void 0?void 0:_props$maintainanceCo58.replacement_cost)||0,all_time:((_props$maintainanceCo59=props.maintainanceCostByYear)===null||_props$maintainanceCo59===void 0?void 0:(_props$maintainanceCo60=_props$maintainanceCo59.all_time_expected_cost)===null||_props$maintainanceCo60===void 0?void 0:_props$maintainanceCo60.replacement_cost)||0}},{name:\"Unsegregated Cost\",value:{this_year:((_props$maintainanceCo61=props.maintainanceCostByYear)===null||_props$maintainanceCo61===void 0?void 0:(_props$maintainanceCo62=_props$maintainanceCo61.this_year_expected_cost)===null||_props$maintainanceCo62===void 0?void 0:_props$maintainanceCo62.unsegregated_cost)||0,all_time:((_props$maintainanceCo63=props.maintainanceCostByYear)===null||_props$maintainanceCo63===void 0?void 0:(_props$maintainanceCo64=_props$maintainanceCo63.all_time_expected_cost)===null||_props$maintainanceCo64===void 0?void 0:_props$maintainanceCo64.unsegregated_cost)||0}}];setActualTableData(actualTableData);setPlannedTableData(plannedTableData);setActualDisttribution(seriesActualData);setPlannedDisttribution(seriesPlannedData);},[props.incomeByCategory,props.expenseByCategory,props.maintainanceCostByYear]);var colorPalette=[\"#2680eb\",\"#69a7f1\",\"#accef7\",\"#cde2fa\"];var colorPalette2=[\"#eb9126\",\"#f1b369\",\"#f7d5ac\",\"#fae6cd\"];// console.log(plannedDistriBution, \"<<<<<<<<<<<plannedTableData\")\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6\"},/*#__PURE__*/React.createElement(GeneralCard,{title:t(\"home:maintenanceCostDistributionActual\"),className:\"mr-md-3 mt-2\",print:true},/*#__PURE__*/React.createElement(GeneralChart,{minHeight:250,options:{tooltip:{trigger:\"item\",formatter:\"{a} <br/>{b} : {c} ({d}%)\"},legend:{bottom:\"-2%\",// top: \"10%\",\n// orient: \"vertical\",\nformatter:\"{name}\"},series:[{name:t(\"home:thisYear\"),type:\"pie\",radius:[\"55%\",\"65%\"],center:[\"25%\",\"45%\"],label:{show:true,position:\"center\",formatter:function formatter(){var _props$maintainanceCo65,_props$maintainanceCo66;return\"\".concat(props.currency,\"  \").concat(getNumberByLanguage((_props$maintainanceCo65=props.maintainanceCostByYear)===null||_props$maintainanceCo65===void 0?void 0:(_props$maintainanceCo66=_props$maintainanceCo65.all_time_actual_cost)===null||_props$maintainanceCo66===void 0?void 0:_props$maintainanceCo66.all_time_actual_cost_total)||0);}},data:actualDistriBution===null||actualDistriBution===void 0?void 0:actualDistriBution.this_year,color:colorPalette},{name:t(\"home:allTime\"),type:\"pie\",radius:[\"55%\",\"65%\"],center:[\"75%\",\"45%\"],label:{show:true,position:\"center\",formatter:function formatter(){var _props$maintainanceCo67,_props$maintainanceCo68;return\"\".concat(props.currency,\"  \").concat(getNumberByLanguage((_props$maintainanceCo67=props.maintainanceCostByYear)===null||_props$maintainanceCo67===void 0?void 0:(_props$maintainanceCo68=_props$maintainanceCo67.this_year_actual_cost)===null||_props$maintainanceCo68===void 0?void 0:_props$maintainanceCo68.this_year_actual_cost_total)||0);}},data:actualDistriBution===null||actualDistriBution===void 0?void 0:actualDistriBution.all_time,color:colorPalette}]}}),/*#__PURE__*/React.createElement(DataTable,{tableData:actualTableData,headers:[t(\"home:thisYear\"),t(\"home:allTime\")]}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6\"},/*#__PURE__*/React.createElement(GeneralCard,{title:t(\"home:maintenanceCostDistributionPlanned\"),className:\"ml-md-3  mt-2\",print:true},/*#__PURE__*/React.createElement(GeneralChart,{minHeight:250,options:{tooltip:{trigger:\"item\",formatter:\"{a} <br/>{b} : {c} ({d}%)\"},legend:{bottom:\"-2%\",// top: \"10%\",\n// orient: \"vertical\",\nformatter:\"{name}\"},series:[{name:t(\"home:thisYear\"),type:\"pie\",radius:[\"55%\",\"65%\"],center:[\"25%\",\"45%\"],//   itemStyle: {\n//     borderRadius: 5,\n//   },\nlabel:{show:true,position:\"center\",formatter:function formatter(){var _props$maintainanceCo69,_props$maintainanceCo70;return\"\".concat(props.currency,\"  \").concat(getNumberByLanguage((_props$maintainanceCo69=props.maintainanceCostByYear)===null||_props$maintainanceCo69===void 0?void 0:(_props$maintainanceCo70=_props$maintainanceCo69.this_year_expected_cost)===null||_props$maintainanceCo70===void 0?void 0:_props$maintainanceCo70.all_time_expected_cost_total)||0);}},data:plannedDistriBution===null||plannedDistriBution===void 0?void 0:plannedDistriBution.this_year,color:colorPalette2},{name:t(\"home:allTime\"),type:\"pie\",radius:[\"55%\",\"65%\"],center:[\"75%\",\"45%\"],//   itemStyle: {\n//     borderRadius: 5,\n//   },\nlabel:{show:true,position:\"center\",formatter:function formatter(){var _props$maintainanceCo71,_props$maintainanceCo72;return\"\".concat(props.currency,\"  \").concat(getNumberByLanguage((_props$maintainanceCo71=props.maintainanceCostByYear)===null||_props$maintainanceCo71===void 0?void 0:(_props$maintainanceCo72=_props$maintainanceCo71.all_time_expected_cost)===null||_props$maintainanceCo72===void 0?void 0:_props$maintainanceCo72.all_time_expected_cost_total)||0);}},data:plannedDistriBution===null||plannedDistriBution===void 0?void 0:plannedDistriBution.all_time,color:colorPalette2}]}}),/*#__PURE__*/React.createElement(DataTable,{tableData:plannedTableData,headers:[t(\"home:thisYear\"),t(\"home:allTime\")]}))));};var mapStateToProps=function mapStateToProps(state){var _state$waterSchemeDat;return{language:state.i18nextData.languageType,incomeByCategory:state.reportData.incomeByCategoryData.data,expenseByCategory:state.reportData.expenseByCategoryData.data,maintainanceCost:state.reportData.maintainanceCostData.data,maintainanceCostByYear:state.reportData.maintainanceCostByYearData.data,currency:(_state$waterSchemeDat=state.waterSchemeData.waterSchemeDetailsData.data)===null||_state$waterSchemeDat===void 0?void 0:_state$waterSchemeDat.currency};};var mapDispatchToProps={};var connector=connect(mapStateToProps,mapDispatchToProps);export default connector(DonoughtChart);","map":null,"metadata":{},"sourceType":"module"}