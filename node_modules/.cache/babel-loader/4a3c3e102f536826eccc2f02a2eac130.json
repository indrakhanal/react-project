{"ast":null,"code":"import toast from\"components/React/ToastNotifier/ToastNotifier\";import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import appRoutes from\"routes/routes\";import PrivateRoute from\"routes/PrivateRoute/PrivateRoute\";import useAuthentication from\"services/authentication/AuthenticationService\";import TokenService from\"services/jwt-token/jwt-token\";import{geti18nLanguage,switchI18nLanguage}from\"store/modules/i18n/i18n\";import{addUserDetails}from\"store/modules/userDetails\";import\"./App.scss\";// Initialize Notification Toaster\ntoast.configure({position:\"top-right\",autoClose:5000,closeButton:false,draggable:false});function App(){var _useSelector=useSelector(function(state){return{i18nextData:state.i18nextData};}),languageType=_useSelector.i18nextData.languageType;var dispatch=useDispatch();var _useAuthentication=useAuthentication(),isAuthenticated=_useAuthentication.isAuthenticated;useEffect(function(){// Initialize i18n during mount as dynamic import\n// Synchronizing i18 state with redux state\nimport(\"./i18n/i18n\").then(function(i18n){var persistedLanguage=geti18nLanguage();if(persistedLanguage&&persistedLanguage!==languageType){dispatch(switchI18nLanguage(persistedLanguage));i18n.default.changeLanguage(persistedLanguage);}else if(i18n.default.language!==languageType){i18n.default.changeLanguage(languageType);}});},[languageType,dispatch]);// Disable Console\nuseEffect(function(){// Disable Console during production\nif(process.env.NODE_ENV===\"production\"){console.log=function(){};window.console.log=window.console.debug=window.console.info=window.console.error=function(){return false;};}},[]);//fetch token from localstorage and set details on reducer\nuseEffect(function(){var userDetails=TokenService.getAccessToken();dispatch(addUserDetails(userDetails));},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,isAuthenticated()?/*#__PURE__*/React.createElement(PrivateRoute,{appRoutes:appRoutes.filter(function(route){return route.type!==\"login\";}),redirectPath:[{from:\"*\",to:\"/auth/home\"}]}):/*#__PURE__*/React.createElement(PrivateRoute,{appRoutes:appRoutes.filter(function(route){var _route$children;return((_route$children=route.children)===null||_route$children===void 0?void 0:_route$children.filter(function(item){return item.type!==\"authorized\";}))||route.type===\"login\";}),redirectPath:[{from:\"*\",to:\"/welcome\"}]}));}export default App;","map":null,"metadata":{},"sourceType":"module"}