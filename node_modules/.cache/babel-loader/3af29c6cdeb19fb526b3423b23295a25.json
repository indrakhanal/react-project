{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\S.K. COMPUTER\\\\OneDrive\\\\Desktop\\\\react-project\\\\src\\\\core\\\\Protected\\\\Finance\\\\TarrifRates\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport CustomRadio from \"components/UI/CustomRadio\";\nimport { GeneralCard } from \"components/UI/GeneralCard\";\nimport React from \"react\";\nimport UserBased from \"./UseBased\";\nimport FixedRate from \"./FixedRates\";\nimport ThisYear from \"./IncomeEstimates/ThisYear\";\nimport IncomeEstimates from \"./IncomeExpendGraph\";\nimport { useTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { getWaterTarrifsAction } from \"store/modules/waterTarrifs/getWaterTarrifs\";\nimport { getFixedRateIncomeEstimatesAction } from \"store/modules/waterTarrifs/getFixedRateIncomeEstimates\";\nimport { getUseBasedWaterTarrifsAction } from \"store/modules/waterTarrifs/getUseBasedWaterTarrifs\";\n\nconst Tarrifrates = props => {\n  _s();\n\n  const {\n    t\n  } = useTranslation();\n  const [rateType, setRateType] = React.useState(\"1\"); //1 -> use Based //2 -> Fixed rate\n\n  const [tariffType, setTariffType] = React.useState(\"\");\n  React.useEffect(() => {\n    if (props.language && props.schemeSlug) {\n      props.getWaterTarrifsAction(props.language, props.schemeSlug, \"fixed\");\n      props.getUseBasedWaterTarrifsAction(props.language, props.schemeSlug);\n    }\n  }, [props.language, props.schemeSlug]);\n  console.log(props.waterTarrifs, props.useBasedWaterTarrifs, \"watterrrtarfififi\");\n  React.useEffect(() => {\n    if (props.waterTarrifs || props.useBasedWaterTarrifs) {\n      var _props$useBasedWaterT, _props$waterTarrifs;\n\n      if ((_props$useBasedWaterT = props.useBasedWaterTarrifs) !== null && _props$useBasedWaterT !== void 0 && _props$useBasedWaterT.some(item => item.terif_type === \"Use Based\")) {\n        setTariffType(\"useBased\");\n        setRateType(\"1\");\n      } else if ((_props$waterTarrifs = props.waterTarrifs) !== null && _props$waterTarrifs !== void 0 && _props$waterTarrifs.some(item => item.terif_type === \"Fixed\")) {\n        setTariffType(\"fixed\");\n        setRateType(\"2\");\n      } else {\n        setTariffType(\"\");\n      }\n    }\n  }, [props.waterTarrifs, props.useBasedWaterTarrifs]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container py-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(GeneralCard, {\n    title: t(\"sidebar:tariffRates\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, tariffType !== \"fixed\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CustomRadio, {\n    label: t(\"finance:useBased\"),\n    id: \"userBased\",\n    name: \"1\",\n    value: 1,\n    checked: rateType === \"1\",\n    onChange: e => setRateType(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 19\n    }\n  })), tariffType !== \"useBased\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CustomRadio, {\n    label: t(\"finance:fixedRate\"),\n    id: \"fixed2\",\n    name: \"2\",\n    value: 2,\n    checked: rateType === \"2\",\n    onChange: e => setRateType(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 19\n    }\n  }))), rateType === \"1\" ? /*#__PURE__*/React.createElement(UserBased, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 33\n    }\n  }) : /*#__PURE__*/React.createElement(FixedRate, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 49\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-8 mt-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(GeneralCard, {\n    title: t(\"finance:incomeEstimateTY\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ThisYear, {\n    rateType: rateType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-4 mt-3 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(GeneralCard, {\n    title: t(\"finance:incomeEstimate\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IncomeEstimates, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  })))));\n};\n\n_s(Tarrifrates, \"ycKwmasiYhCK72Hrk8g+43G0MqY=\", false, function () {\n  return [useTranslation];\n});\n\n_c = Tarrifrates;\n\nconst mapStateToProps = state => {\n  var _state$waterSchemeDat;\n\n  return {\n    language: state.i18nextData.languageType,\n    waterTarrifs: state.waterTarrifsData.waterTarrifData.data,\n    useBasedWaterTarrifs: state.waterTarrifsData.getUseBasedWaterTarrifs.data,\n    supplySchedule: state.waterTarrifsData.waterTarrifData.data,\n    schemeSlug: (_state$waterSchemeDat = state.waterSchemeData.waterSchemeDetailsData.data) === null || _state$waterSchemeDat === void 0 ? void 0 : _state$waterSchemeDat.slug\n  };\n};\n\nconst mapDispatchToProps = {\n  getWaterTarrifsAction: getWaterTarrifsAction,\n  getFixedRateIncomeEstimatesAction: getFixedRateIncomeEstimatesAction,\n  getUseBasedWaterTarrifsAction: getUseBasedWaterTarrifsAction\n};\nconst connector = connect(mapStateToProps, mapDispatchToProps);\nexport default _c2 = connector(Tarrifrates);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Tarrifrates\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/Users/S.K. COMPUTER/OneDrive/Desktop/react-project/src/core/Protected/Finance/TarrifRates/index.tsx"],"names":["CustomRadio","GeneralCard","React","UserBased","FixedRate","ThisYear","IncomeEstimates","useTranslation","connect","getWaterTarrifsAction","getFixedRateIncomeEstimatesAction","getUseBasedWaterTarrifsAction","Tarrifrates","props","t","rateType","setRateType","useState","tariffType","setTariffType","useEffect","language","schemeSlug","console","log","waterTarrifs","useBasedWaterTarrifs","some","item","terif_type","e","target","value","mapStateToProps","state","i18nextData","languageType","waterTarrifsData","waterTarrifData","data","getUseBasedWaterTarrifs","supplySchedule","waterSchemeData","waterSchemeDetailsData","slug","mapDispatchToProps","connector"],"mappings":"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","sourcesContent":["import CustomRadio from \"components/UI/CustomRadio\";\r\nimport { GeneralCard } from \"components/UI/GeneralCard\";\r\nimport React from \"react\";\r\nimport UserBased from \"./UseBased\";\r\nimport FixedRate from \"./FixedRates\";\r\nimport ThisYear from \"./IncomeEstimates/ThisYear\";\r\nimport IncomeEstimates from \"./IncomeExpendGraph\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { RootState } from \"store/root-reducer\";\r\nimport { connect, ConnectedProps } from \"react-redux\";\r\nimport { getWaterTarrifsAction } from \"store/modules/waterTarrifs/getWaterTarrifs\";\r\nimport { getFixedRateIncomeEstimatesAction } from \"store/modules/waterTarrifs/getFixedRateIncomeEstimates\";\r\nimport { getUseBasedWaterTarrifsAction } from \"store/modules/waterTarrifs/getUseBasedWaterTarrifs\";\r\n\r\ninterface Props extends PropsFromRedux {}\r\n\r\nconst Tarrifrates = (props: Props) => {\r\n  const { t } = useTranslation();\r\n  const [rateType, setRateType] = React.useState(\"1\"); //1 -> use Based //2 -> Fixed rate\r\n  const [tariffType, setTariffType] = React.useState(\"\");\r\n \r\n\r\n  React.useEffect(() => {\r\n    if (props.language && props.schemeSlug) {\r\n      props.getWaterTarrifsAction(props.language, props.schemeSlug, \"fixed\");\r\n      props.getUseBasedWaterTarrifsAction(props.language,props.schemeSlug);\r\n    }\r\n  }, [props.language, props.schemeSlug]);\r\n\r\n  console.log(props.waterTarrifs , props.useBasedWaterTarrifs, \"watterrrtarfififi\")\r\n  \r\n\r\n\r\n  React.useEffect(() => {\r\n    if (props.waterTarrifs || props.useBasedWaterTarrifs) {\r\n      if (props.useBasedWaterTarrifs?.some((item) => item.terif_type === \"Use Based\")) {\r\n        setTariffType(\"useBased\");\r\n        setRateType(\"1\");\r\n      } else if (props.waterTarrifs?.some((item) => item.terif_type === \"Fixed\")) {\r\n        setTariffType(\"fixed\");\r\n        setRateType(\"2\");\r\n      } else { \r\n        setTariffType(\"\");\r\n      }\r\n    }\r\n  }, [props.waterTarrifs, props.useBasedWaterTarrifs]);\r\n\r\n  return (\r\n    <div className=\"container py-3 \">\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-12\">\r\n          <GeneralCard title={t(\"sidebar:tariffRates\")}>\r\n            <div className=\"d-flex\">\r\n              {tariffType !== \"fixed\" && (\r\n                <div className=\"mr-2\">\r\n                  <CustomRadio\r\n                    label={t(\"finance:useBased\")}\r\n                    id=\"userBased\"\r\n                    name=\"1\"\r\n                    value={1}\r\n                    checked={rateType === \"1\"}\r\n                    onChange={(e) => setRateType(e.target.value)}\r\n                  />\r\n                </div>\r\n              )}\r\n              {tariffType !== \"useBased\" && (\r\n                <div className=\"ml-2\">\r\n                  <CustomRadio\r\n                    label={t(\"finance:fixedRate\")}\r\n                    id=\"fixed2\"\r\n                    name=\"2\"\r\n                    value={2}\r\n                    checked={rateType === \"2\"}\r\n                    onChange={(e) => setRateType(e.target.value)}\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {rateType === \"1\" ? <UserBased /> : <FixedRate />}\r\n          </GeneralCard>\r\n        </div>\r\n        <div className=\"col-lg-8 mt-3 \">\r\n          <GeneralCard title={t(\"finance:incomeEstimateTY\")}>\r\n            <ThisYear rateType={rateType} />\r\n          </GeneralCard>\r\n        </div>\r\n        <div className=\"col-lg-4 mt-3 \">\r\n          <GeneralCard title={t(\"finance:incomeEstimate\")}>\r\n            <IncomeEstimates />\r\n          </GeneralCard>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n  language: state.i18nextData.languageType,\r\n  waterTarrifs: state.waterTarrifsData.waterTarrifData.data,\r\n  useBasedWaterTarrifs: state.waterTarrifsData.getUseBasedWaterTarrifs.data,\r\n  supplySchedule: state.waterTarrifsData.waterTarrifData.data,\r\n  schemeSlug: state.waterSchemeData.waterSchemeDetailsData.data?.slug,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  getWaterTarrifsAction: getWaterTarrifsAction,\r\n  getFixedRateIncomeEstimatesAction: getFixedRateIncomeEstimatesAction,\r\n  getUseBasedWaterTarrifsAction: getUseBasedWaterTarrifsAction,\r\n};\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\nexport default connector(Tarrifrates);\r\n"]},"metadata":{},"sourceType":"module"}