{"ast":null,"code":"import _objectSpread from\"C:/Users/S.K. COMPUTER/OneDrive/Desktop/react-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/S.K. COMPUTER/OneDrive/Desktop/react-project/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/S.K. COMPUTER/OneDrive/Desktop/react-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import GeneralChart from\"components/UI/Charts/General\";import CustomCheckBox from\"components/UI/CustomCheckbox\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";var config={name:\"\",type:\"\",smooth:true,yAxisIndex:0,data:[]};var VisualizationBarGraph=function VisualizationBarGraph(props){var _props$options;var _useState=useState(),_useState2=_slicedToArray(_useState,2),chartData=_useState2[0],setChartData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),seriesData=_useState4[0],setSeriesData=_useState4[1];var _useState5=useState(props.defaultSelected),_useState6=_slicedToArray(_useState5,2),selected=_useState6[0],setSelected=_useState6[1];useEffect(function(){var _props$waterSupplyDat,_props$waterSupplyDat2,_props$waterSupplyDat3,_props$waterSupplyDat4,_props$waterSupplyDat5,_props$waterSupplyDat6;var newData={xAxis:(_props$waterSupplyDat=props.waterSupplyData)===null||_props$waterSupplyDat===void 0?void 0:(_props$waterSupplyDat2=_props$waterSupplyDat.supply)===null||_props$waterSupplyDat2===void 0?void 0:_props$waterSupplyDat2.map(function(item){return\"\".concat(item[props.compareKey]);}),total_supply:(_props$waterSupplyDat3=props.waterSupplyData)===null||_props$waterSupplyDat3===void 0?void 0:(_props$waterSupplyDat4=_props$waterSupplyDat3.supply)===null||_props$waterSupplyDat4===void 0?void 0:_props$waterSupplyDat4.map(function(item){return item.total_supply;}),daily_target:(_props$waterSupplyDat5=props.waterSupplyData)===null||_props$waterSupplyDat5===void 0?void 0:(_props$waterSupplyDat6=_props$waterSupplyDat5.supply)===null||_props$waterSupplyDat6===void 0?void 0:_props$waterSupplyDat6.map(function(item){var _props$waterSupplyDat7;return(_props$waterSupplyDat7=props.waterSupplyData)===null||_props$waterSupplyDat7===void 0?void 0:_props$waterSupplyDat7.daily_target;})};setChartData(newData);},[props.waterSupplyData]);var handleSelect=function handleSelect(name){if(selected!==null&&selected!==void 0&&selected.includes(name)){var filteredData=selected.filter(function(item){return item!==name;});setSelected(filteredData);}else{setSelected([].concat(_toConsumableArray(selected),[name]));}};useEffect(function(){var selectedData=selected===null||selected===void 0?void 0:selected.map(function(item,index){var _props$options$find,_props$options$find2;return _objectSpread(_objectSpread({},config),{},{name:((_props$options$find=props.options.find(function(opt){return opt.id===item;}))===null||_props$options$find===void 0?void 0:_props$options$find.name)||\"\",type:\"bar\",data:chartData&&chartData[item],yAxisIndex:index,itemStyle:{color:((_props$options$find2=props.options.find(function(opt){return opt.id===item;}))===null||_props$options$find2===void 0?void 0:_props$options$find2.color)||\"\"}});});setSeriesData(selectedData);},[chartData,selected]);var optionData={tooltip:{trigger:\"axis\",axisPointer:{type:\"shadow\"}},xAxis:[{type:\"category\",data:chartData===null||chartData===void 0?void 0:chartData.xAxis,axisLabel:{interval:0,rotate:25}}],yAxis:[{type:\"value\",name:\"\"},{type:\"value\",name:\"\"}],series:seriesData};console.log(seriesData,\"seriessdaddadadad\");return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-9\"},/*#__PURE__*/React.createElement(GeneralChart,{minHeight:400,options:optionData})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3 chartOptions\"},/*#__PURE__*/React.createElement(\"h6\",null,\"Select\"),/*#__PURE__*/React.createElement(\"p\",null,\"Visualization Parameters\"),/*#__PURE__*/React.createElement(\"ul\",null,(_props$options=props.options)===null||_props$options===void 0?void 0:_props$options.map(function(item){return/*#__PURE__*/React.createElement(\"li\",{key:item.id},/*#__PURE__*/React.createElement(CustomCheckBox,{id:\"\"+item.id,label:item.name,onChange:function onChange(e){return handleSelect(item.id);},checked:selected.includes(item.id)}));}))));};var mapStateToProps=function mapStateToProps(state){return{language:state.i18nextData.languageType,waterSupplyData:state.reportData.waterSupplyData.data,incomeExpenseData:state.reportData.incomeExpenseData.data,actualCF:state.reportData.actualCumulativeCashFlowData.data,expenseCF:state.reportData.expenseCumulativeCashFlowData.data};};var mapDispatchToProps={};var connector=connect(mapStateToProps,mapDispatchToProps);export default connector(VisualizationBarGraph);","map":null,"metadata":{},"sourceType":"module"}