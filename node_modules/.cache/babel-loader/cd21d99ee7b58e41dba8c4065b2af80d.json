{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\S.K. COMPUTER\\\\OneDrive\\\\Desktop\\\\react-project\\\\src\\\\core\\\\Protected\\\\Finance\\\\TarrifRates\\\\IncomeExpendGraph.tsx\",\n    _s = $RefreshSig$();\n\nimport GeneralChart from \"components/UI/Charts/General\";\nimport IncomeExpendTable from \"core/Public/Home/IncomeExpend/IncomeExpendTable\";\nimport { getNumberByLanguage } from \"i18n/i18n\";\nimport React, { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { getExpenseCumulativeAction } from \"store/modules/report/expenseCumilitiveCashFlow\";\nimport { getIncomeExpenseAction } from \"store/modules/report/incomeExpense\";\nimport { getYearFromDate } from \"utils/utilsFunction/date-converter\";\n\nconst IncomeExpendGraph = props => {\n  _s();\n\n  const {\n    incomeExpenseData\n  } = props;\n  const {\n    t\n  } = useTranslation([\"home\"]);\n  const [years, setYears] = useState([]);\n  const [income, setIncome] = useState([]);\n  const [expense, setExpense] = useState([]);\n  useEffect(() => {\n    if (props.schemeSlug) {\n      props.getExpenseCumulativeAction(props.schemeSlug);\n    }\n  }, [props.schemeSlug]);\n  useEffect(() => {\n    if (incomeExpenseData) {\n      var _incomeExpenseData$ex, _incomeExpenseData$ex2, _incomeExpenseData$ex3;\n\n      const yearArray = incomeExpenseData === null || incomeExpenseData === void 0 ? void 0 : (_incomeExpenseData$ex = incomeExpenseData.expected_income) === null || _incomeExpenseData$ex === void 0 ? void 0 : _incomeExpenseData$ex.map(item => ` ${getNumberByLanguage(getYearFromDate(item.date_from))} - ${getNumberByLanguage(getYearFromDate(item.date_to))}`);\n      const incomeArray = incomeExpenseData === null || incomeExpenseData === void 0 ? void 0 : (_incomeExpenseData$ex2 = incomeExpenseData.expected_income) === null || _incomeExpenseData$ex2 === void 0 ? void 0 : _incomeExpenseData$ex2.map(item => item.income_amount);\n      const expenseArray = incomeExpenseData === null || incomeExpenseData === void 0 ? void 0 : (_incomeExpenseData$ex3 = incomeExpenseData.expected_expense) === null || _incomeExpenseData$ex3 === void 0 ? void 0 : _incomeExpenseData$ex3.map(item => item.expense_amount);\n      setYears(yearArray);\n      setIncome(incomeArray);\n      setExpense(expenseArray);\n    }\n  }, [incomeExpenseData]);\n  console.log(incomeExpenseData, \"<<<<<<<<incomeExpenseData\");\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(GeneralChart, {\n    minHeight: 350,\n    options: {\n      tooltip: {\n        trigger: \"axis\",\n        axisPointer: {\n          type: \"shadow\"\n        } // formatter: handleCustomTooltip,\n\n      },\n      legend: {\n        show: false\n      },\n      grid: {\n        left: \"3%\",\n        right: \"4%\",\n        bottom: \"3%\",\n        top: \"8%\",\n        containLabel: true\n      },\n      xAxis: {\n        type: \"category\",\n        boundaryGap: false,\n        data: years,\n        axisLabel: {\n          formatter: function (name) {\n            var _name$split$;\n\n            return name === null || name === void 0 ? void 0 : (_name$split$ = name.split(\"-\")[0]) === null || _name$split$ === void 0 ? void 0 : _name$split$.replace(\"Year\", \"\");\n          }\n        }\n      },\n      yAxis: {\n        type: \"value\",\n        axisLabel: {\n          formatter: function (name) {\n            return getNumberByLanguage(name);\n          }\n        }\n      },\n      series: [{\n        name: `${t(\"home:total\")} ${t(\"home:income\")} `,\n        type: \"line\",\n        smooth: true,\n        data: income,\n        lineStyle: {\n          color: \"#4DFFFF\"\n        }\n      }, {\n        name: `${t(\"home:total\")} ${t(\"home:expense\")} `,\n        type: \"line\",\n        smooth: true,\n        data: expense,\n        lineStyle: {\n          color: \"#ff4D4D\"\n        }\n      }]\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(IncomeExpendTable, {\n    heading: years,\n    income: income,\n    expense: expense,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }));\n};\n\n_s(IncomeExpendGraph, \"UnJ6qk6IZ8YM0vxVKUOjygAkmTc=\", false, function () {\n  return [useTranslation];\n});\n\n_c = IncomeExpendGraph;\n\nconst mapStateToProps = state => {\n  var _state$waterSchemeDat;\n\n  return {\n    language: state.i18nextData.languageType,\n    schemeSlug: (_state$waterSchemeDat = state.waterSchemeData.waterSchemeDetailsData.data) === null || _state$waterSchemeDat === void 0 ? void 0 : _state$waterSchemeDat.slug,\n    incomeExpenseData: state.reportData.expenseCumulativeCashFlowData.data\n  };\n};\n\nconst mapDispatchToProps = {\n  getIncomeExpenseAction: getIncomeExpenseAction,\n  getExpenseCumulativeAction: getExpenseCumulativeAction\n};\nconst connector = connect(mapStateToProps, mapDispatchToProps);\nexport default _c2 = connector(IncomeExpendGraph);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"IncomeExpendGraph\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/Users/S.K. COMPUTER/OneDrive/Desktop/react-project/src/core/Protected/Finance/TarrifRates/IncomeExpendGraph.tsx"],"names":["GeneralChart","IncomeExpendTable","getNumberByLanguage","React","useEffect","useState","useTranslation","connect","getExpenseCumulativeAction","getIncomeExpenseAction","getYearFromDate","IncomeExpendGraph","props","incomeExpenseData","t","years","setYears","income","setIncome","expense","setExpense","schemeSlug","yearArray","expected_income","map","item","date_from","date_to","incomeArray","income_amount","expenseArray","expected_expense","expense_amount","console","log","tooltip","trigger","axisPointer","type","legend","show","grid","left","right","bottom","top","containLabel","xAxis","boundaryGap","data","axisLabel","formatter","name","split","replace","yAxis","series","smooth","lineStyle","color","mapStateToProps","state","language","i18nextData","languageType","waterSchemeData","waterSchemeDetailsData","slug","reportData","expenseCumulativeCashFlowData","mapDispatchToProps","connector"],"mappings":"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","sourcesContent":["import GeneralChart from \"components/UI/Charts/General\";\r\nimport IncomeExpendTable from \"core/Public/Home/IncomeExpend/IncomeExpendTable\";\r\nimport { getNumberByLanguage } from \"i18n/i18n\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { connect, ConnectedProps } from \"react-redux\";\r\nimport { getExpenseCumulativeAction } from \"store/modules/report/expenseCumilitiveCashFlow\";\r\nimport { getIncomeExpenseAction } from \"store/modules/report/incomeExpense\";\r\nimport { RootState } from \"store/root-reducer\";\r\nimport { getYearFromDate } from \"utils/utilsFunction/date-converter\";\r\n\r\ninterface Props extends PropsFromRedux {}\r\n\r\nconst IncomeExpendGraph = (props: Props) => {\r\n  const { incomeExpenseData } = props;\r\n  const { t } = useTranslation([\"home\"]);\r\n\r\n  const [years, setYears] = useState<(string | number)[]>([]);\r\n  const [income, setIncome] = useState<(string | number)[]>([]);\r\n  const [expense, setExpense] = useState<(string | number)[]>([]);\r\n\r\n  useEffect(() => {\r\n    if (props.schemeSlug) {\r\n      props.getExpenseCumulativeAction(props.schemeSlug);\r\n    }\r\n  }, [props.schemeSlug]);\r\n\r\n  useEffect(() => {\r\n    if (incomeExpenseData) {\r\n      const yearArray = incomeExpenseData?.expected_income?.map(\r\n        (item) =>\r\n          ` ${getNumberByLanguage(getYearFromDate(item.date_from))} - ${getNumberByLanguage(\r\n            getYearFromDate(item.date_to)\r\n          )}`\r\n      );\r\n      const incomeArray = incomeExpenseData?.expected_income?.map((item) => item.income_amount);\r\n      const expenseArray = incomeExpenseData?.expected_expense?.map((item) => item.expense_amount);\r\n\r\n      setYears(yearArray);\r\n      setIncome(incomeArray);\r\n      setExpense(expenseArray);\r\n    }\r\n  }, [incomeExpenseData]);\r\n\r\n  console.log(incomeExpenseData, \"<<<<<<<<incomeExpenseData\");\r\n\r\n  return (\r\n    <>\r\n      <GeneralChart\r\n        minHeight={350}\r\n        options={{\r\n          tooltip: {\r\n            trigger: \"axis\",\r\n            axisPointer: {\r\n              type: \"shadow\",\r\n            },\r\n            // formatter: handleCustomTooltip,\r\n          },\r\n          legend: {\r\n            show: false,\r\n          },\r\n          grid: {\r\n            left: \"3%\",\r\n            right: \"4%\",\r\n            bottom: \"3%\",\r\n            top: \"8%\",\r\n            containLabel: true,\r\n          },\r\n          xAxis: {\r\n            type: \"category\",\r\n            boundaryGap: false,\r\n            data: years,\r\n            axisLabel: {\r\n              formatter: function (name) {\r\n                return name?.split(\"-\")[0]?.replace(\"Year\", \"\");\r\n              },\r\n            },\r\n          },\r\n          yAxis: {\r\n            type: \"value\",\r\n            axisLabel: {\r\n              formatter: function (name) {\r\n                return getNumberByLanguage(name);\r\n              },\r\n            },\r\n          },\r\n          series: [\r\n            {\r\n              name: `${t(\"home:total\")} ${t(\"home:income\")} `,\r\n              type: \"line\",\r\n              smooth: true,\r\n              data: income,\r\n              lineStyle: { color: \"#4DFFFF\" },\r\n            },\r\n            {\r\n              name: `${t(\"home:total\")} ${t(\"home:expense\")} `,\r\n              type: \"line\",\r\n              smooth: true,\r\n              data: expense,\r\n              lineStyle: { color: \"#ff4D4D\" },\r\n            },\r\n          ],\r\n        }}\r\n      />\r\n\r\n      <IncomeExpendTable heading={years} income={income} expense={expense} />\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n  language: state.i18nextData.languageType,\r\n  schemeSlug: state.waterSchemeData.waterSchemeDetailsData.data?.slug,\r\n  incomeExpenseData: state.reportData.expenseCumulativeCashFlowData.data,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  getIncomeExpenseAction: getIncomeExpenseAction,\r\n  getExpenseCumulativeAction: getExpenseCumulativeAction,\r\n};\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\nexport default connector(IncomeExpendGraph);\r\n"]},"metadata":{},"sourceType":"module"}