{"ast":null,"code":"import React from\"react\";import{connect}from\"react-redux\";import{UncontrolledCollapse}from\"reactstrap\";import{getWaterTarrifsAction}from\"store/modules/waterTarrifs/getWaterTarrifs\";import{useTranslation}from\"react-i18next\";import{getNumberByLanguage}from\"i18n/i18n\";import{getUseBasedWaterTarrifsAction}from\"store/modules/waterTarrifs/getUseBasedWaterTarrifs\";var Tariff=function Tariff(props){var _props$useBasedWaterT,_props$useBasedWaterT2,_props$waterTarrifs,_props$waterTarrifs2,_props$waterTarrifs3,_props$useBasedWaterT3;var _useTranslation=useTranslation([\"home\"]),t=_useTranslation.t;React.useEffect(function(){var _props$schemeDetails;if(props.language&&(_props$schemeDetails=props.schemeDetails)!==null&&_props$schemeDetails!==void 0&&_props$schemeDetails.slug){var _props$schemeDetails2;props.getWaterTarrifsAction(props.language,props.schemeDetails.slug,\"fixed\");props.getUseBasedWaterTarrifsAction(props.language,(_props$schemeDetails2=props.schemeDetails)===null||_props$schemeDetails2===void 0?void 0:_props$schemeDetails2.slug);}},[props.language,props.schemeDetails]);console.log(props.useBasedWaterTarrifs,\"------\");return/*#__PURE__*/React.createElement(React.Fragment,null,props.useBasedWaterTarrifs&&props.useBasedWaterTarrifs instanceof Array&&((_props$useBasedWaterT=props.useBasedWaterTarrifs)===null||_props$useBasedWaterT===void 0?void 0:_props$useBasedWaterT.length)>0&&((_props$useBasedWaterT2=props.useBasedWaterTarrifs)===null||_props$useBasedWaterT2===void 0?void 0:_props$useBasedWaterT2.map(function(item,index){var _item$used_based_unit,_item$used_based_unit2;return/*#__PURE__*/React.createElement(\"div\",{className:\"tariff-rate\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"tariff-header\",id:\"toggler\"+index},/*#__PURE__*/React.createElement(\"h6\",null,getNumberByLanguage(item.apply_date)),/*#__PURE__*/React.createElement(\"p\",null,item.terif_type,\" \",/*#__PURE__*/React.createElement(\"i\",{className:\"ic-line-arrow-down icon\"}))),/*#__PURE__*/React.createElement(UncontrolledCollapse,{toggler:\"#toggler\"+index},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"tariff-content-header\"},/*#__PURE__*/React.createElement(\"h6\",null,t(\"home:sn\")),/*#__PURE__*/React.createElement(\"h6\",{className:\"mr-5\"},t(\"home:units\")),/*#__PURE__*/React.createElement(\"h6\",null,t(\"home:rate\"))),((_item$used_based_unit=item.used_based_units)===null||_item$used_based_unit===void 0?void 0:_item$used_based_unit.length)>0?(_item$used_based_unit2=item.used_based_units)===null||_item$used_based_unit2===void 0?void 0:_item$used_based_unit2.map(function(tariff,i){var _props$schemeDetails3;return/*#__PURE__*/React.createElement(\"div\",{className:\"tariff-content\"},/*#__PURE__*/React.createElement(\"p\",null,getNumberByLanguage(i+1)),/*#__PURE__*/React.createElement(\"p\",null,getNumberByLanguage(tariff.unit_from),\"-\",getNumberByLanguage(tariff.unit_to),\" \",t(\"home:units\")),/*#__PURE__*/React.createElement(\"p\",null,(_props$schemeDetails3=props.schemeDetails)===null||_props$schemeDetails3===void 0?void 0:_props$schemeDetails3.currency,\" \",tariff.rate,\" | \",t(\"home:unit\")));}):/*#__PURE__*/React.createElement(\"div\",{className:\"tariff-content\"},/*#__PURE__*/React.createElement(\"p\",null,\"-\"),/*#__PURE__*/React.createElement(\"p\",null,\"-\"),/*#__PURE__*/React.createElement(\"p\",null,\"-\")))));})),props.waterTarrifs&&props.waterTarrifs instanceof Array&&((_props$waterTarrifs=props.waterTarrifs)===null||_props$waterTarrifs===void 0?void 0:_props$waterTarrifs.length)>0&&((_props$waterTarrifs2=props.waterTarrifs)===null||_props$waterTarrifs2===void 0?void 0:_props$waterTarrifs2.map(function(item,index){var _props$schemeDetails4,_props$schemeDetails5,_props$schemeDetails6,_props$schemeDetails7;return/*#__PURE__*/React.createElement(\"div\",{className:\"tariff-rate\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"tariff-header\",id:\"toggler\"+index},/*#__PURE__*/React.createElement(\"h6\",null,getNumberByLanguage(item.apply_date)),/*#__PURE__*/React.createElement(\"p\",null,item.terif_type,\" \",/*#__PURE__*/React.createElement(\"i\",{className:\"ic-line-arrow-down icon\"}))),/*#__PURE__*/React.createElement(UncontrolledCollapse,{toggler:\"#toggler\"+index},/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"tariff-content-header\"},/*#__PURE__*/React.createElement(\"h6\",null,t(\"home:rateInstitution\")),/*#__PURE__*/React.createElement(\"p\",null,(_props$schemeDetails4=props.schemeDetails)===null||_props$schemeDetails4===void 0?void 0:_props$schemeDetails4.currency,\" \",item===null||item===void 0?void 0:item.rate_for_institution)),/*#__PURE__*/React.createElement(\"div\",{className:\"tariff-content-header\"},/*#__PURE__*/React.createElement(\"h6\",null,t(\"home:rateHousehold\")),/*#__PURE__*/React.createElement(\"p\",null,(_props$schemeDetails5=props.schemeDetails)===null||_props$schemeDetails5===void 0?void 0:_props$schemeDetails5.currency,\" \",item===null||item===void 0?void 0:item.rate_for_household)),/*#__PURE__*/React.createElement(\"div\",{className:\"tariff-content-header\"},/*#__PURE__*/React.createElement(\"h6\",null,t(\"home:ratePublic\")),/*#__PURE__*/React.createElement(\"p\",null,(_props$schemeDetails6=props.schemeDetails)===null||_props$schemeDetails6===void 0?void 0:_props$schemeDetails6.currency,\" \",item===null||item===void 0?void 0:item.rate_for_public)),/*#__PURE__*/React.createElement(\"div\",{className:\"tariff-content-header\"},/*#__PURE__*/React.createElement(\"h6\",null,t(\"home:rateCommercial\")),/*#__PURE__*/React.createElement(\"p\",null,(_props$schemeDetails7=props.schemeDetails)===null||_props$schemeDetails7===void 0?void 0:_props$schemeDetails7.currency,\" \",item===null||item===void 0?void 0:item.rate_for_commercial)))));})),((_props$waterTarrifs3=props.waterTarrifs)===null||_props$waterTarrifs3===void 0?void 0:_props$waterTarrifs3.length)<1&&((_props$useBasedWaterT3=props.useBasedWaterTarrifs)===null||_props$useBasedWaterT3===void 0?void 0:_props$useBasedWaterT3.length)<1&&/*#__PURE__*/React.createElement(\"small\",{className:\"d-block text-center\"},t(\"home:noData\")));};var mapStateToProps=function mapStateToProps(state){return{useBasedWaterTarrifs:state.waterTarrifsData.getUseBasedWaterTarrifs.data,waterTarrifs:state.waterTarrifsData.waterTarrifData.data,language:state.i18nextData.languageType,schemeDetails:state.waterSchemeData.waterSchemeDetailsData.data};};var mapDispatchToProps={getWaterTarrifsAction:getWaterTarrifsAction,getUseBasedWaterTarrifsAction:getUseBasedWaterTarrifsAction};var connector=connect(mapStateToProps,mapDispatchToProps);export default connector(Tariff);","map":null,"metadata":{},"sourceType":"module"}