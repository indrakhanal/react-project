{"ast":null,"code":"import _slicedToArray from\"C:/Users/S.K. COMPUTER/OneDrive/Desktop/react-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import classnames from\"classnames\";import NepaliDatePicker from\"components/React/Datepicker/Datepicker\";import{ADToBS}from\"components/React/Datepicker/Datepickerutils\";import EnglishDatePicker from\"components/React/EnglishDatepicker/EnglishDatepicker\";import CustomRadio from\"components/UI/CustomRadio\";import{GeneralCard}from\"components/UI/GeneralCard\";import{getMonthByLanguageAndScheme}from\"i18n/i18n\";import React,{useState}from\"react\";import{useTranslation}from\"react-i18next\";import{connect}from\"react-redux\";import{Col,Nav,NavItem,NavLink,Row,TabContent,TabPane}from\"reactstrap\";import formatDate from\"utils/utilsFunction/date-converter\";import CashbookExpenditureTable from\"./CashbookExpenditureTable\";import CashbookIncomeTable from\"./CashbookTable\";import CashbookIncomeTableByDate from\"./CashBookByDate/CashbookTable\";import CashbookExpenseTableByDate from\"./CashBookByDate/CashbookExpenditureTable\";var CashBook=function CashBook(props){var _props$schemeDetails2,_props$schemeDetails3,_props$schemeDetails4,_props$schemeDetails5,_props$schemeDetails6,_props$schemeDetails7;var _useState=useState(\"1\"),_useState2=_slicedToArray(_useState,2),activeTab=_useState2[0],setActiveTab=_useState2[1];var _useState3=useState(\"byMonth\"),_useState4=_slicedToArray(_useState3,2),cashbookType=_useState4[0],setCashbookType=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),activeDate=_useState6[0],setActiveDate=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),startDate=_useState8[0],setStartDate=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),endDate=_useState10[0],setEndDate=_useState10[1];React.useEffect(function(){if(props.schemeDetails){var _props$schemeDetails;if(((_props$schemeDetails=props.schemeDetails)===null||_props$schemeDetails===void 0?void 0:_props$schemeDetails.system_date_format)===\"nep\"){setActiveDate(ADToBS(new Date()));}else{setActiveDate(formatDate(new Date()));}}},[props.schemeDetails]);var toggle=function toggle(tab){if(activeTab!==tab)setActiveTab(tab);};var _useTranslation=useTranslation([\"cashbook\"]),t=_useTranslation.t;return/*#__PURE__*/React.createElement(\"div\",{className:\"container py-3 cash-book\"},/*#__PURE__*/React.createElement(GeneralCard,{title:\"\".concat(t(\"cashbook:cashbook\"),\"  \\n        \").concat(cashbookType===\"byMonth\"?\"\\n          (\".concat(activeDate?getMonthByLanguageAndScheme(activeDate.split(\"-\")[1],(_props$schemeDetails2=props.schemeDetails)===null||_props$schemeDetails2===void 0?void 0:_props$schemeDetails2.system_date_format):\"\",\")\\n          \"):\"\\n            (\".concat(startDate?getMonthByLanguageAndScheme(startDate.split(\"-\")[1],(_props$schemeDetails3=props.schemeDetails)===null||_props$schemeDetails3===void 0?void 0:_props$schemeDetails3.system_date_format):\"\",\" -  \").concat(endDate?getMonthByLanguageAndScheme(endDate.split(\"-\")[1],(_props$schemeDetails4=props.schemeDetails)===null||_props$schemeDetails4===void 0?void 0:_props$schemeDetails4.system_date_format):\"\",\" )\\n            \"),\"\\n\\n        \")},/*#__PURE__*/React.createElement(\"div\",{className:\"cash-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex-between\"},/*#__PURE__*/React.createElement(Nav,{tabs:true,style:{flex:1}},/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{className:classnames({active:activeTab===\"1\"}),onClick:function onClick(){toggle(\"1\");}},t(\"cashbook:income\"))),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(NavLink,{className:classnames({active:activeTab===\"2\"}),onClick:function onClick(){toggle(\"2\");}},t(\"cashbook:expenditure\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-end\",style:{flex:2}},cashbookType===\"byDate\"&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group my-0 mr-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"Date From\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"},((_props$schemeDetails5=props.schemeDetails)===null||_props$schemeDetails5===void 0?void 0:_props$schemeDetails5.system_date_format)===\"nep\"?/*#__PURE__*/React.createElement(NepaliDatePicker,{className:\"form-control\",name:\"name_en\",value:startDate,onChange:function onChange(e){setStartDate(e);}}):/*#__PURE__*/React.createElement(EnglishDatePicker,{name:\"eng\",value:startDate,handleChange:function handleChange(e){setStartDate(formatDate(e));}}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group my-0 mr-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"Date To\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"},((_props$schemeDetails6=props.schemeDetails)===null||_props$schemeDetails6===void 0?void 0:_props$schemeDetails6.system_date_format)===\"nep\"?/*#__PURE__*/React.createElement(NepaliDatePicker,{className:\"form-control\",name:\"name_en\",value:endDate,onChange:function onChange(e){setEndDate(e);}}):/*#__PURE__*/React.createElement(EnglishDatePicker,{name:\"eng\",value:endDate,handleChange:function handleChange(e){setEndDate(formatDate(e));}})))))),cashbookType===\"byMonth\"&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group my-0 mr-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\"},\"Select Month\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-8\"},((_props$schemeDetails7=props.schemeDetails)===null||_props$schemeDetails7===void 0?void 0:_props$schemeDetails7.system_date_format)===\"nep\"?/*#__PURE__*/React.createElement(NepaliDatePicker,{className:\"form-control\",name:\"name_en\",value:startDate,onChange:function onChange(e){setActiveDate(e);}}):/*#__PURE__*/React.createElement(EnglishDatePicker,{name:\"eng\",value:startDate,handleChange:function handleChange(e){setActiveDate(formatDate(e));}})))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mr-2\"},/*#__PURE__*/React.createElement(CustomRadio,{label:t(\"finance:byDate\"),id:\"byDate\",name:\"byDate\",value:\"byDate\",checked:cashbookType===\"byDate\",onChange:function onChange(e){return setCashbookType(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"ml-2\"},/*#__PURE__*/React.createElement(CustomRadio,{label:t(\"finance:byMonth\"),id:\"byMonth\",name:\"byMonth\",value:\"byMonth\",checked:cashbookType===\"byMonth\",onChange:function onChange(e){return setCashbookType(e.target.value);}})))))),/*#__PURE__*/React.createElement(TabContent,{activeTab:activeTab,className:\"mt-2\"},/*#__PURE__*/React.createElement(TabPane,{tabId:\"1\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\"},activeTab===\"1\"&&/*#__PURE__*/React.createElement(React.Fragment,null,cashbookType===\"byMonth\"?/*#__PURE__*/React.createElement(CashbookIncomeTable,{activeDate:activeDate,activeTab:activeTab}):/*#__PURE__*/React.createElement(CashbookIncomeTableByDate,{activeDate:startDate,endDate:endDate,activeTab:activeTab}))))),/*#__PURE__*/React.createElement(TabPane,{tabId:\"2\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\"},activeTab===\"2\"&&/*#__PURE__*/React.createElement(React.Fragment,null,cashbookType===\"byMonth\"?/*#__PURE__*/React.createElement(CashbookExpenditureTable,{activeDate:activeDate,activeTab:activeTab}):/*#__PURE__*/React.createElement(CashbookExpenseTableByDate,{activeDate:startDate,endDate:endDate,activeTab:activeTab})))))))));};var mapStateToProps=function mapStateToProps(state){return{language:state.i18nextData.languageType,schemeDetails:state.waterSchemeData.waterSchemeDetailsData.data};};var mapDispatchToProps={};var connector=connect(mapStateToProps,mapDispatchToProps);export default connector(CashBook);","map":null,"metadata":{},"sourceType":"module"}