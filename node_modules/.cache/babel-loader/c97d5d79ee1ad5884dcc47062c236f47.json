{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\S.K. COMPUTER\\\\OneDrive\\\\Desktop\\\\react-project\\\\src\\\\core\\\\Protected\\\\Finance\\\\TarrifRates\\\\FixedRates\\\\List.tsx\",\n    _s = $RefreshSig$();\n\nimport { DeleteIcon, EditIconDark } from \"assets/images/xd\";\nimport toast from \"components/React/ToastNotifier/ToastNotifier\";\nimport ConfirmationModal from \"components/UI/ConfirmationModal\";\nimport useDeleteConfirmation from \"hooks/useDeleteConfirmation\";\nimport { getNumberByLanguage } from \"i18n/i18n\";\nimport React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { connect } from \"react-redux\";\nimport { deleteWaterTariffAction } from \"store/modules/waterTarrifs/deleteWaterTariff\";\nimport { getUsIncomeEstimateThisYearAction } from \"store/modules/waterTarrifs/getIncomeEstimateThisYear\";\nimport { getWaterTarrifsAction } from \"store/modules/waterTarrifs/getWaterTarrifs\";\n\nconst UseBasedList = props => {\n  _s();\n\n  var _props$waterTarrifs, _props$waterTarrifs2;\n\n  const {\n    t\n  } = useTranslation();\n  const {\n    editId,\n    modal,\n    handleDeleteClick,\n    resetDeleteData,\n    toggleModal\n  } = useDeleteConfirmation();\n\n  const deleteTariffRate = async () => {\n    try {\n      const response = await props.deleteWaterTariffAction(editId);\n      console.log(response, \"response\");\n\n      if (response.status === 204) {\n        toast.success(t(\"home:deleteSuccess\"));\n        props.getWaterTarrifsAction(props.language, props.schemeSlug, \"fixed\");\n        props.getUsIncomeEstimateThisYearAction(props.schemeSlug);\n        resetDeleteData();\n      } else {\n        toast.error(t(\"home:deleteError\"));\n        resetDeleteData();\n      }\n    } catch (error) {\n      console.log(error, \"error\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"data-table mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table-responsive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      borderRadius: \"5px 0 0 0\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }\n  }, \" \", t(\"home:sn\")), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, t(\"home:applyDate\")), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      whiteSpace: \"break-spaces\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }, t(\"finance:roht\")), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      whiteSpace: \"break-spaces\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, t(\"finance:roit\")), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      whiteSpace: \"break-spaces\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, t(\"finance:ropt\")), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      whiteSpace: \"break-spaces\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }, t(\"finance:roct\")), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      whiteSpace: \"break-spaces\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, t(\"finance:epcht\")), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      whiteSpace: \"break-spaces\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, t(\"finance:epcit\")), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      whiteSpace: \"break-spaces\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 15\n    }\n  }, t(\"finance:epcpt\")), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      whiteSpace: \"break-spaces\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, t(\"finance:epcct\")), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      borderRadius: \"0 5px 0 0\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, t(\"home:action\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, props.waterTarrifs && ((_props$waterTarrifs = props.waterTarrifs) === null || _props$waterTarrifs === void 0 ? void 0 : _props$waterTarrifs.length) > 0 ? (_props$waterTarrifs2 = props.waterTarrifs) === null || _props$waterTarrifs2 === void 0 ? void 0 : _props$waterTarrifs2.map((item, index) => {\n    var _props$scheme, _props$scheme2, _props$scheme3, _props$scheme4;\n\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 19\n      }\n    }, getNumberByLanguage(index + 1)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 19\n      }\n    }, \" \", getNumberByLanguage(item.apply_date)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 19\n      }\n    }, (_props$scheme = props.scheme) === null || _props$scheme === void 0 ? void 0 : _props$scheme.currency, \". \", getNumberByLanguage(item.rate_for_household) || \"-\", \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 19\n      }\n    }, (_props$scheme2 = props.scheme) === null || _props$scheme2 === void 0 ? void 0 : _props$scheme2.currency, \".\", \" \", getNumberByLanguage(item.rate_for_institution) || \"-\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 19\n      }\n    }, (_props$scheme3 = props.scheme) === null || _props$scheme3 === void 0 ? void 0 : _props$scheme3.currency, \". \", getNumberByLanguage(item.rate_for_public) || \"-\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 19\n      }\n    }, (_props$scheme4 = props.scheme) === null || _props$scheme4 === void 0 ? void 0 : _props$scheme4.currency, \". \", getNumberByLanguage(item.rate_for_commercial) || \"-\", \" \"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 19\n      }\n    }, getNumberByLanguage(item.estimated_paying_connection_household) || \"-\", \" %\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 19\n      }\n    }, getNumberByLanguage(item.estimated_paying_connection_institution) || \"-\", \" %\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }\n    }, getNumberByLanguage(item.estimated_paying_connection_public) || \"-\", \" %\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 19\n      }\n    }, getNumberByLanguage(item.estimated_paying_connection_commercial) || \"-\", \" %\"), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      role: \"button\",\n      onClick: () => props.setEditData(item),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: EditIconDark,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      role: \"button\",\n      onClick: () => handleDeleteClick(item.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: DeleteIcon,\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 23\n      }\n    }))));\n  }) : /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    colSpan: 7,\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, \"No Data Available\"))))), /*#__PURE__*/React.createElement(ConfirmationModal, {\n    open: modal,\n    handleModal: () => toggleModal(),\n    handleConfirmClick: () => deleteTariffRate(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }));\n};\n\n_s(UseBasedList, \"36GnfAPQidfGH0v8tHj+eiii7/I=\", false, function () {\n  return [useTranslation, useDeleteConfirmation];\n});\n\n_c = UseBasedList;\n\nconst mapStateToProps = state => {\n  var _state$waterSchemeDat;\n\n  return {\n    language: state.i18nextData.languageType,\n    scheme: state.waterSchemeData.waterSchemeDetailsData.data,\n    schemeSlug: (_state$waterSchemeDat = state.waterSchemeData.waterSchemeDetailsData.data) === null || _state$waterSchemeDat === void 0 ? void 0 : _state$waterSchemeDat.slug,\n    waterTarrifs: state.waterTarrifsData.waterTarrifData.data\n  };\n};\n\nconst mapDispatchToProps = {\n  getWaterTarrifsAction,\n  deleteWaterTariffAction,\n  getUsIncomeEstimateThisYearAction\n};\nconst connector = connect(mapStateToProps, mapDispatchToProps);\nexport default _c2 = connector(UseBasedList);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"UseBasedList\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["C:/Users/S.K. COMPUTER/OneDrive/Desktop/react-project/src/core/Protected/Finance/TarrifRates/FixedRates/List.tsx"],"names":["DeleteIcon","EditIconDark","toast","ConfirmationModal","useDeleteConfirmation","getNumberByLanguage","React","useTranslation","connect","deleteWaterTariffAction","getUsIncomeEstimateThisYearAction","getWaterTarrifsAction","UseBasedList","props","t","editId","modal","handleDeleteClick","resetDeleteData","toggleModal","deleteTariffRate","response","console","log","status","success","language","schemeSlug","error","borderRadius","whiteSpace","waterTarrifs","length","map","item","index","id","apply_date","scheme","currency","rate_for_household","rate_for_institution","rate_for_public","rate_for_commercial","estimated_paying_connection_household","estimated_paying_connection_institution","estimated_paying_connection_public","estimated_paying_connection_commercial","setEditData","mapStateToProps","state","i18nextData","languageType","waterSchemeData","waterSchemeDetailsData","data","slug","waterTarrifsData","waterTarrifData","mapDispatchToProps","connector"],"mappings":";;;AAAA,SAASA,UAAT,EAA+BC,YAA/B,QAAmD,kBAAnD;AACA,OAAOC,KAAP,MAAkB,8CAAlB;AACA,OAAOC,iBAAP,MAA8B,iCAA9B;AACA,OAAOC,qBAAP,MAAkC,6BAAlC;AACA,SAASC,mBAAT,QAAoC,WAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,SAASC,OAAT,QAAwC,aAAxC;AACA,SAASC,uBAAT,QAAwC,8CAAxC;AACA,SAASC,iCAAT,QAAkD,sDAAlD;AACA,SAASC,qBAAT,QAAsC,4CAAtC;;AAOA,MAAMC,YAAY,GAAIC,KAAD,IAAkB;AAAA;;AAAA;;AACrC,QAAM;AAAEC,IAAAA;AAAF,MAAQP,cAAc,EAA5B;AAEA,QAAM;AAAEQ,IAAAA,MAAF;AAAUC,IAAAA,KAAV;AAAiBC,IAAAA,iBAAjB;AAAoCC,IAAAA,eAApC;AAAqDC,IAAAA;AAArD,MACJf,qBAAqB,EADvB;;AAGA,QAAMgB,gBAAgB,GAAG,YAAY;AACnC,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACJ,uBAAN,CAA8BM,MAA9B,CAAvB;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAAsB,UAAtB;;AACA,UAAIA,QAAQ,CAACG,MAAT,KAAoB,GAAxB,EAA6B;AAC3BtB,QAAAA,KAAK,CAACuB,OAAN,CAAcX,CAAC,CAAC,oBAAD,CAAf;AACAD,QAAAA,KAAK,CAACF,qBAAN,CAA4BE,KAAK,CAACa,QAAlC,EAA4Cb,KAAK,CAACc,UAAlD,EAA8D,OAA9D;AACAd,QAAAA,KAAK,CAACH,iCAAN,CAAwCG,KAAK,CAACc,UAA9C;AAEAT,QAAAA,eAAe;AAChB,OAND,MAMO;AACLhB,QAAAA,KAAK,CAAC0B,KAAN,CAAYd,CAAC,CAAC,kBAAD,CAAb;AACAI,QAAAA,eAAe;AAChB;AACF,KAbD,CAaE,OAAOU,KAAP,EAAc;AACdN,MAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ,EAAmB,OAAnB;AACD;AACF,GAjBD;;AAmBA,sBACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,KAAK,EAAE;AAAEC,MAAAA,YAAY,EAAE;AAAhB,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAA4Cf,CAAC,CAAC,SAAD,CAA7C,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,CAAC,CAAC,gBAAD,CAAN,CAFF,eAGE;AAAI,IAAA,KAAK,EAAE;AAAEgB,MAAAA,UAAU,EAAE;AAAd,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4ChB,CAAC,CAAC,cAAD,CAA7C,CAHF,eAIE;AAAI,IAAA,KAAK,EAAE;AAAEgB,MAAAA,UAAU,EAAE;AAAd,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4ChB,CAAC,CAAC,cAAD,CAA7C,CAJF,eAKE;AAAI,IAAA,KAAK,EAAE;AAAEgB,MAAAA,UAAU,EAAE;AAAd,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4ChB,CAAC,CAAC,cAAD,CAA7C,CALF,eAME;AAAI,IAAA,KAAK,EAAE;AAAEgB,MAAAA,UAAU,EAAE;AAAd,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4ChB,CAAC,CAAC,cAAD,CAA7C,CANF,eAOE;AAAI,IAAA,KAAK,EAAE;AAAEgB,MAAAA,UAAU,EAAE;AAAd,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4ChB,CAAC,CAAC,eAAD,CAA7C,CAPF,eAQE;AAAI,IAAA,KAAK,EAAE;AAAEgB,MAAAA,UAAU,EAAE;AAAd,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4ChB,CAAC,CAAC,eAAD,CAA7C,CARF,eASE;AAAI,IAAA,KAAK,EAAE;AAAEgB,MAAAA,UAAU,EAAE;AAAd,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4ChB,CAAC,CAAC,eAAD,CAA7C,CATF,eAUE;AAAI,IAAA,KAAK,EAAE;AAAEgB,MAAAA,UAAU,EAAE;AAAd,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4ChB,CAAC,CAAC,eAAD,CAA7C,CAVF,eAWE;AAAI,IAAA,KAAK,EAAE;AAAEe,MAAAA,YAAY,EAAE;AAAhB,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2Cf,CAAC,CAAC,aAAD,CAA5C,CAXF,CADF,CADF,eAgBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,KAAK,CAACkB,YAAN,IAAsB,wBAAAlB,KAAK,CAACkB,YAAN,4EAAoBC,MAApB,IAA6B,CAAnD,2BACCnB,KAAK,CAACkB,YADP,yDACC,qBAAoBE,GAApB,CAAwB,CAACC,IAAD,EAAOC,KAAP;AAAA;;AAAA,wBACtB;AAAI,MAAA,GAAG,EAAED,IAAI,CAACE,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK/B,mBAAmB,CAAC8B,KAAK,GAAG,CAAT,CAAxB,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAM9B,mBAAmB,CAAC6B,IAAI,CAACG,UAAN,CAAzB,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACGxB,KAAK,CAACyB,MADT,kDACG,cAAcC,QADjB,QAC6BlC,mBAAmB,CAAC6B,IAAI,CAACM,kBAAN,CAAnB,IAAgD,GAD7E,EACkF,GADlF,CAHF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACG3B,KAAK,CAACyB,MADT,mDACG,eAAcC,QADjB,OAC4B,GAD5B,EAEGlC,mBAAmB,CAAC6B,IAAI,CAACO,oBAAN,CAAnB,IAAkD,GAFrD,CAPF,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACG5B,KAAK,CAACyB,MADT,mDACG,eAAcC,QADjB,QAC6BlC,mBAAmB,CAAC6B,IAAI,CAACQ,eAAN,CAAnB,IAA6C,GAD1E,CAXF,eAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACG7B,KAAK,CAACyB,MADT,mDACG,eAAcC,QADjB,QAC6BlC,mBAAmB,CAAC6B,IAAI,CAACS,mBAAN,CAAnB,IAAiD,GAD9E,EACmF,GADnF,CAdF,eAkBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGtC,mBAAmB,CAAC6B,IAAI,CAACU,qCAAN,CAAnB,IAAmE,GADtE,OAlBF,eAqBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGvC,mBAAmB,CAAC6B,IAAI,CAACW,uCAAN,CAAnB,IAAqE,GADxE,OArBF,eAwBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKxC,mBAAmB,CAAC6B,IAAI,CAACY,kCAAN,CAAnB,IAAgE,GAArE,OAxBF,eAyBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGzC,mBAAmB,CAAC6B,IAAI,CAACa,sCAAN,CAAnB,IAAoE,GADvE,OAzBF,eA4BE;AAAI,MAAA,SAAS,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,IAAI,EAAC,QAAV;AAAmB,MAAA,OAAO,EAAE,MAAMlC,KAAK,CAACmC,WAAN,CAAkBd,IAAlB,CAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAEjC,YAAV;AAAwB,MAAA,GAAG,EAAC,EAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,eAIE;AAAK,MAAA,IAAI,EAAC,QAAV;AAAmB,MAAA,OAAO,EAAE,MAAMgB,iBAAiB,CAACiB,IAAI,CAACE,EAAN,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,GAAG,EAAEpC,UAAV;AAAsB,MAAA,GAAG,EAAC,EAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAJF,CA5BF,CADsB;AAAA,GAAxB,CADD,gBAyCC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,OAAO,EAAE,CAAb;AAAgB,IAAA,SAAS,EAAC,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CA1CJ,CAhBF,CADF,CADF,eAqEE,oBAAC,iBAAD;AACE,IAAA,IAAI,EAAEgB,KADR;AAEE,IAAA,WAAW,EAAE,MAAMG,WAAW,EAFhC;AAGE,IAAA,kBAAkB,EAAE,MAAMC,gBAAgB,EAH5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArEF,CADF;AA6ED,CAtGD;;GAAMR,Y;UACUL,c,EAGZH,qB;;;KAJEQ,Y;;AAwGN,MAAMqC,eAAe,GAAIC,KAAD;AAAA;;AAAA,SAAuB;AAC7CxB,IAAAA,QAAQ,EAAEwB,KAAK,CAACC,WAAN,CAAkBC,YADiB;AAE7Cd,IAAAA,MAAM,EAAEY,KAAK,CAACG,eAAN,CAAsBC,sBAAtB,CAA6CC,IAFR;AAG7C5B,IAAAA,UAAU,2BAAEuB,KAAK,CAACG,eAAN,CAAsBC,sBAAtB,CAA6CC,IAA/C,0DAAE,sBAAmDC,IAHlB;AAI7CzB,IAAAA,YAAY,EAAEmB,KAAK,CAACO,gBAAN,CAAuBC,eAAvB,CAAuCH;AAJR,GAAvB;AAAA,CAAxB;;AAOA,MAAMI,kBAAkB,GAAG;AACzBhD,EAAAA,qBADyB;AAEzBF,EAAAA,uBAFyB;AAGzBC,EAAAA;AAHyB,CAA3B;AAMA,MAAMkD,SAAS,GAAGpD,OAAO,CAACyC,eAAD,EAAkBU,kBAAlB,CAAzB;AAIA,qBAAeC,SAAS,CAAChD,YAAD,CAAxB","sourcesContent":["import { DeleteIcon, EditIcon, EditIconDark } from \"assets/images/xd\";\r\nimport toast from \"components/React/ToastNotifier/ToastNotifier\";\r\nimport ConfirmationModal from \"components/UI/ConfirmationModal\";\r\nimport useDeleteConfirmation from \"hooks/useDeleteConfirmation\";\r\nimport { getNumberByLanguage } from \"i18n/i18n\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { connect, ConnectedProps } from \"react-redux\";\r\nimport { deleteWaterTariffAction } from \"store/modules/waterTarrifs/deleteWaterTariff\";\r\nimport { getUsIncomeEstimateThisYearAction } from \"store/modules/waterTarrifs/getIncomeEstimateThisYear\";\r\nimport { getWaterTarrifsAction } from \"store/modules/waterTarrifs/getWaterTarrifs\";\r\nimport { RootState } from \"store/root-reducer\";\r\n\r\ninterface Props extends PropsFromRedux {\r\n  setEditData;\r\n}\r\n\r\nconst UseBasedList = (props: Props) => {\r\n  const { t } = useTranslation();\r\n\r\n  const { editId, modal, handleDeleteClick, resetDeleteData, toggleModal } =\r\n    useDeleteConfirmation();\r\n\r\n  const deleteTariffRate = async () => {\r\n    try {\r\n      const response = await props.deleteWaterTariffAction(editId);\r\n      console.log(response, \"response\");\r\n      if (response.status === 204) {\r\n        toast.success(t(\"home:deleteSuccess\"));\r\n        props.getWaterTarrifsAction(props.language, props.schemeSlug, \"fixed\");\r\n        props.getUsIncomeEstimateThisYearAction(props.schemeSlug);\r\n\r\n        resetDeleteData();\r\n      } else {\r\n        toast.error(t(\"home:deleteError\"));\r\n        resetDeleteData();\r\n      }\r\n    } catch (error) {\r\n      console.log(error, \"error\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"data-table mt-4\">\r\n      <div className=\"table-responsive\">\r\n        <table className=\"table mt-2\">\r\n          <thead>\r\n            <tr>\r\n              <th style={{ borderRadius: \"5px 0 0 0\" }}> {t(\"home:sn\")}</th>\r\n              <th>{t(\"home:applyDate\")}</th>\r\n              <th style={{ whiteSpace: \"break-spaces\" }}>{t(\"finance:roht\")}</th>\r\n              <th style={{ whiteSpace: \"break-spaces\" }}>{t(\"finance:roit\")}</th>\r\n              <th style={{ whiteSpace: \"break-spaces\" }}>{t(\"finance:ropt\")}</th>\r\n              <th style={{ whiteSpace: \"break-spaces\" }}>{t(\"finance:roct\")}</th>\r\n              <th style={{ whiteSpace: \"break-spaces\" }}>{t(\"finance:epcht\")}</th>\r\n              <th style={{ whiteSpace: \"break-spaces\" }}>{t(\"finance:epcit\")}</th>\r\n              <th style={{ whiteSpace: \"break-spaces\" }}>{t(\"finance:epcpt\")}</th>\r\n              <th style={{ whiteSpace: \"break-spaces\" }}>{t(\"finance:epcct\")}</th>\r\n              <th style={{ borderRadius: \"0 5px 0 0\" }}>{t(\"home:action\")}</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {props.waterTarrifs && props.waterTarrifs?.length > 0 ? (\r\n              props.waterTarrifs?.map((item, index) => (\r\n                <tr key={item.id}>\r\n                  <td>{getNumberByLanguage(index + 1)}</td>\r\n                  <td> {getNumberByLanguage(item.apply_date)}</td>\r\n                  <td>\r\n                    {props.scheme?.currency}. {getNumberByLanguage(item.rate_for_household) || \"-\"}{\" \"}\r\n                    \r\n                  </td>\r\n                  <td>\r\n                    {props.scheme?.currency}.{\" \"}\r\n                    {getNumberByLanguage(item.rate_for_institution) || \"-\"} \r\n                  </td>\r\n                  <td>\r\n                    {props.scheme?.currency}. {getNumberByLanguage(item.rate_for_public) || \"-\"}  \r\n                  </td>\r\n                  <td>\r\n                    {props.scheme?.currency}. {getNumberByLanguage(item.rate_for_commercial) || \"-\"}{\" \"}\r\n                     \r\n                  </td>\r\n                  <td>\r\n                    {getNumberByLanguage(item.estimated_paying_connection_household) || \"-\"} %\r\n                  </td>\r\n                  <td>\r\n                    {getNumberByLanguage(item.estimated_paying_connection_institution) || \"-\"} %\r\n                  </td>\r\n                  <td>{getNumberByLanguage(item.estimated_paying_connection_public) || \"-\"} %</td>\r\n                  <td>\r\n                    {getNumberByLanguage(item.estimated_paying_connection_commercial) || \"-\"} %\r\n                  </td>\r\n                  <td className=\"action\">\r\n                    <div role=\"button\" onClick={() => props.setEditData(item)}>\r\n                      <img src={EditIconDark} alt=\"\" />\r\n                    </div>\r\n                    <div role=\"button\" onClick={() => handleDeleteClick(item.id)}>\r\n                      <img src={DeleteIcon} alt=\"\" />\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            ) : (\r\n              <tr>\r\n                <td colSpan={7} className=\"text-center\">\r\n                  No Data Available\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      <ConfirmationModal\r\n        open={modal}\r\n        handleModal={() => toggleModal()}\r\n        handleConfirmClick={() => deleteTariffRate()}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n  language: state.i18nextData.languageType,\r\n  scheme: state.waterSchemeData.waterSchemeDetailsData.data,\r\n  schemeSlug: state.waterSchemeData.waterSchemeDetailsData.data?.slug,\r\n  waterTarrifs: state.waterTarrifsData.waterTarrifData.data,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  getWaterTarrifsAction,\r\n  deleteWaterTariffAction,\r\n  getUsIncomeEstimateThisYearAction,\r\n};\r\n\r\nconst connector = connect(mapStateToProps, mapDispatchToProps);\r\n\r\ntype PropsFromRedux = ConnectedProps<typeof connector>;\r\n\r\nexport default connector(UseBasedList);\r\n"]},"metadata":{},"sourceType":"module"}