{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/S.K. COMPUTER/OneDrive/Desktop/react-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"C:/Users/S.K. COMPUTER/OneDrive/Desktop/react-project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/S.K. COMPUTER/OneDrive/Desktop/react-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\S.K. COMPUTER\\\\OneDrive\\\\Desktop\\\\react-project\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import NepaliDatePicker from\"components/React/Datepicker/Datepicker\";import EnglishDatePicker from\"components/React/EnglishDatepicker/EnglishDatepicker\";import FormikValidationError from\"components/React/FormikValidationError/FormikValidationError\";import StyledSelect from\"components/React/StyledSelect/StyledSelect\";import toast from\"components/React/ToastNotifier/ToastNotifier\";import Button from\"components/UI/Forms/Buttons\";import{IMPACT_OF_FAILURE_OPTIONS,MITIGATION_OPTIONS,POSSIBILITY_OF_FAILURE_OPTIONS}from\"constants/constants\";import{useFormik}from\"formik\";import React from\"react\";import{connect}from\"react-redux\";import{getComponentAction}from\"store/modules/component/getComponent\";import{postComponentInfoAction}from\"store/modules/componentInfo/postComponentInfo\";import{updateComponentInfoAction}from\"store/modules/componentInfo/updateComponentInfo\";import{getIncomeCategoryAction}from\"store/modules/income/getIncomeCategory\";import{getDashboardComponentInfoAction}from\"store/modules/maintainance/dashboardComponentInfo\";import{getSupplyBeltsAction}from\"store/modules/supplyBelts/getWaterSupplyBelts\";import*as Yup from\"yup\";import{useTranslation}from\"react-i18next\";import formatDate from\"utils/utilsFunction/date-converter\";import TooltipLabel from\"components/UI/TooltipLabel\";import CustomCheckBox from\"components/UI/CustomCheckbox\";var initialFormValues={possible_failure:\"\",component_numbers:\"\",description:\"\",maintenance_cost:0,labour_cost:0.0,material_cost:0.0,replacement_cost:0.0,maintenance_action:\"\",maintenance_interval:\"\",next_action:\"\",apply_date:\"\",componant_picture:null,component:null,impact_of_failure:null,possibility_of_failure:null,mitigation:null,responsible:\"\",interval_unit:\"Year\",is_cost_seggregated:false};var validationScheme=Yup.object({component:Yup.mixed().required(\"This field is required\"),possible_failure:Yup.string().required(\"This field is required\"),component_numbers:Yup.string().required(\"This field is required\"),maintenance_cost:Yup.number().required(\"This field is required\"),labour_cost:Yup.string().nullable(),material_cost:Yup.string().nullable(),replacement_cost:Yup.string().nullable(),maintenance_action:Yup.string().required(\"This field is required\"),maintenance_interval:Yup.string().required(\"This field is required\"),impact_of_failure:Yup.mixed().required(\"This field is required\"),possibility_of_failure:Yup.mixed().required(\"This field is required\"),mitigation:Yup.mixed().required(\"This field is required\"),responsible:Yup.string().required(\"This field is required\"),next_action:Yup.string().required(\"This field is required\"),apply_date:Yup.string().required(\"This field is required\"),interval_unit:Yup.string().required(\"This field is required\")});var ExpenseForm=function ExpenseForm(props){var _props$scheme2,_props$scheme3,_props$scheme4,_props$scheme5,_props$scheme6,_props$scheme7;var _useTranslation=useTranslation(),t=_useTranslation.t;var _React$useState=React.useState(initialFormValues),_React$useState2=_slicedToArray(_React$useState,2),initialData=_React$useState2[0],setInitialData=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),categoryOption=_React$useState4[0],setCategoryOptions=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),imagePreview=_React$useState6[0],setImagePreview=_React$useState6[1];React.useEffect(function(){if(props.schemeSlug){getIncomeCategoryAction(props.schemeSlug);props.getComponentAction();}},[props.schemeSlug]);React.useEffect(function(){if(props.components){var _props$components;var options=(_props$components=props.components)===null||_props$components===void 0?void 0:_props$components.map(function(item){return{label:\"\"+item.name,value:\"\"+item.id};});setCategoryOptions(options);}},[props.components]);React.useEffect(function(){if(props.editData){var _props$editData,_props$editData$compo,_props$editData2,_props$editData2$comp,_props$editData6,_props$editData7;setInitialData(_objectSpread(_objectSpread({},props.editData),{},{component:{label:(_props$editData=props.editData)===null||_props$editData===void 0?void 0:(_props$editData$compo=_props$editData.component)===null||_props$editData$compo===void 0?void 0:_props$editData$compo.name,value:(_props$editData2=props.editData)===null||_props$editData2===void 0?void 0:(_props$editData2$comp=_props$editData2.component)===null||_props$editData2$comp===void 0?void 0:_props$editData2$comp.id},possibility_of_failure:POSSIBILITY_OF_FAILURE_OPTIONS.find(function(item){var _props$editData3;return item.value===((_props$editData3=props.editData)===null||_props$editData3===void 0?void 0:_props$editData3.possibility_of_failure);}),impact_of_failure:IMPACT_OF_FAILURE_OPTIONS.find(function(item){var _props$editData4;return item.value===((_props$editData4=props.editData)===null||_props$editData4===void 0?void 0:_props$editData4.impact_of_failure);}),mitigation:MITIGATION_OPTIONS.find(function(item){var _props$editData5;return item.value===((_props$editData5=props.editData)===null||_props$editData5===void 0?void 0:_props$editData5.mitigation);}),responsible:(_props$editData6=props.editData)===null||_props$editData6===void 0?void 0:_props$editData6.responsible,apply_date:props.editData.apply_date||\"\"}));if((_props$editData7=props.editData)!==null&&_props$editData7!==void 0&&_props$editData7.componant_picture){var _props$editData8;setImagePreview((_props$editData8=props.editData)===null||_props$editData8===void 0?void 0:_props$editData8.componant_picture);}}else{var _props$scheme;setInitialData(_objectSpread(_objectSpread({},initialFormValues),{},{apply_date:(_props$scheme=props.scheme)===null||_props$scheme===void 0?void 0:_props$scheme.tool_start_date}));}},[props.editData,props.scheme,props.yearIntervals]);var _useFormik=useFormik({enableReinitialize:true,initialValues:initialData,validationSchema:validationScheme,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(submitValue,_ref){var _submitValue$componen,_submitValue$impact_o,_submitValue$possibil,_submitValue$mitigati;var resetForm,requestData,res,_Object$values,_errors;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:resetForm=_ref.resetForm;requestData=_objectSpread(_objectSpread({},submitValue),{},{component:submitValue===null||submitValue===void 0?void 0:(_submitValue$componen=submitValue.component)===null||_submitValue$componen===void 0?void 0:_submitValue$componen.value,impact_of_failure:submitValue===null||submitValue===void 0?void 0:(_submitValue$impact_o=submitValue.impact_of_failure)===null||_submitValue$impact_o===void 0?void 0:_submitValue$impact_o.value,possibility_of_failure:submitValue===null||submitValue===void 0?void 0:(_submitValue$possibil=submitValue.possibility_of_failure)===null||_submitValue$possibil===void 0?void 0:_submitValue$possibil.value,mitigation:submitValue===null||submitValue===void 0?void 0:(_submitValue$mitigati=submitValue.mitigation)===null||_submitValue$mitigati===void 0?void 0:_submitValue$mitigati.value,responsible:submitValue===null||submitValue===void 0?void 0:submitValue.responsible,maintenance_cost:+values.maintenance_cost,labour_cost:+values.labour_cost,material_cost:+values.material_cost,replacement_cost:+values.replacement_cost});if(values.componant_picture&&values.componant_picture instanceof File){requestData.componant_picture=values.componant_picture;}else{delete requestData.componant_picture;}if(!props.editData){_context.next=9;break;}_context.next=6;return props.updateComponentInfoAction(props.language,props.editData.id,requestData);case 6:res=_context.sent;_context.next=12;break;case 9:_context.next=11;return props.postComponentInfoAction(props.language,requestData);case 11:res=_context.sent;case 12:if(res.status===201||res.status===200){if(res.status===201){toast.success(t(\"home:postSuccess\"));}else{toast.success(t(\"home:updateSuccess\"));}setInitialData(initialFormValues);props.toggle(false);props.setEditData(null);props.getDashboardComponentInfoAction(props.language,props.schemeSlug);}else{_errors=(_Object$values=Object.values(res.data))===null||_Object$values===void 0?void 0:_Object$values.map(function(item){toast.error(item[0]);});}case 13:case\"end\":return _context.stop();}}},_callee);}));function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments);}return onSubmit;}()}),values=_useFormik.values,errors=_useFormik.errors,setFieldTouched=_useFormik.setFieldTouched,setFieldValue=_useFormik.setFieldValue,touched=_useFormik.touched,handleChange=_useFormik.handleChange,handleBlur=_useFormik.handleBlur,handleSubmit=_useFormik.handleSubmit;var handleImagePreview=function handleImagePreview(file){var reader=new FileReader();reader.readAsDataURL(file);reader.onload=function(){setImagePreview(reader.result);};reader.onerror=function(error){console.log(\"Error: \",error);};};var handleMaintenanceIntervalChange=function handleMaintenanceIntervalChange(value,unit){if(unit===\"Year\"){var _props$yearIntervals,_props$yearIntervals$;var nextActionDate=((_props$yearIntervals=props.yearIntervals)===null||_props$yearIntervals===void 0?void 0:(_props$yearIntervals$=_props$yearIntervals.find(function(date){return String(value).split(\".\")[0]===String(date.year_num);}))===null||_props$yearIntervals$===void 0?void 0:_props$yearIntervals$.start_date)||\"\";setFieldValue(\"next_action\",nextActionDate);}};return/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();handleSubmit(e);}},/*#__PURE__*/React.createElement(\"div\",{className:\"row align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\",className:\"mr-1\"},t(\"maintainance:component\"),\" \",t(\"home:name\"),\" :\"),/*#__PURE__*/React.createElement(StyledSelect,{name:\"component\",value:values.component,options:categoryOption,onChange:function onChange(_ref2){var name=_ref2.name,value=_ref2.value;setFieldValue(name,value);},onBlur:function onBlur(){setFieldTouched(\"component\",true);}}),/*#__PURE__*/React.createElement(FormikValidationError,{name:\"component\",errors:errors,touched:touched}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\",className:\"mr-1\"},t(\"finance:number\"),\" \",t(\"finance:of\"),\" \",t(\"maintainance:components\"),\" \",/*#__PURE__*/React.createElement(TooltipLabel,{id:\"nocints\",text:\"Number of component in the system.\"})),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",name:\"component_numbers\",value:values.component_numbers,onChange:handleChange,onBlur:handleBlur}),/*#__PURE__*/React.createElement(FormikValidationError,{name:\"component_numbers\",errors:errors,touched:touched}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\",className:\"mr-1\"},t(\"finance:possibleFailure\"),\":\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",name:\"possible_failure\",value:values.possible_failure,onChange:handleChange,onBlur:handleBlur}),/*#__PURE__*/React.createElement(FormikValidationError,{name:\"possible_failure\",errors:errors,touched:touched}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\",className:\"mr-1\"},t(\"finance:maintainanceAction\"),\":\"),/*#__PURE__*/React.createElement(\"input\",{className:\"form-control\",name:\"maintenance_action\",value:values.maintenance_action,onChange:handleChange,onBlur:handleBlur}),/*#__PURE__*/React.createElement(FormikValidationError,{name:\"maintenance_action\",errors:errors,touched:touched}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\",className:\"mr-1\"},t(\"finance:maintainanceInterval\"),\":\"),/*#__PURE__*/React.createElement(\"div\",{className:\"input-group component-info\"},/*#__PURE__*/React.createElement(\"input\",{type:\"number\",id:\"border-right\",className:\"form-control \",name:\"maintenance_interval\",value:values.maintenance_interval,onChange:function onChange(e){handleChange(e);handleMaintenanceIntervalChange(e.target.value,values===null||values===void 0?void 0:values.interval_unit);},onBlur:handleBlur,step:\"0.1\"}),/*#__PURE__*/React.createElement(\"select\",{id:\"border-left\",className:\"form-control\",name:\"interval_unit\",value:values.interval_unit,onChange:function onChange(e){handleChange(e);},onBlur:handleBlur},/*#__PURE__*/React.createElement(\"option\",{value:\"Year\"},\"Year\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Month\"},\"Month\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Day\"},\"Day\"))),/*#__PURE__*/React.createElement(FormikValidationError,{name:\"maintenance_interval\",errors:errors,touched:touched}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(CustomCheckBox,{id:\"is_cost_seggregated\",label:t(\"finance:icCostSegregated\"),checked:values.is_cost_seggregated,onChange:function onChange(e){return setFieldValue(\"is_cost_seggregated\",e.target.checked);}}),/*#__PURE__*/React.createElement(FormikValidationError,{name:\"is_cost_seggregated\",errors:errors,touched:touched}))),!values.is_cost_seggregated&&/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\",className:\"mr-1\"},t(\"home:maintainance\"),\" \",t(\"home:cost\"),\" (\",(_props$scheme2=props.scheme)===null||_props$scheme2===void 0?void 0:_props$scheme2.currency,\"):\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",name:\"maintenance_cost\",value:values.maintenance_cost,onChange:handleChange,onBlur:handleBlur}),/*#__PURE__*/React.createElement(FormikValidationError,{name:\"maintenance_cost\",errors:errors,touched:touched}))),values.is_cost_seggregated&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\",className:\"mr-1\"},t(\"finance:LabourCost\"),\" (\",(_props$scheme3=props.scheme)===null||_props$scheme3===void 0?void 0:_props$scheme3.currency,\"):\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",name:\"labour_cost\",value:values.labour_cost,onChange:handleChange,onBlur:handleBlur}),/*#__PURE__*/React.createElement(FormikValidationError,{name:\"labour_cost\",errors:errors,touched:touched}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\",className:\"mr-1\"},t(\"finance:MaterialCost\"),\" (\",(_props$scheme4=props.scheme)===null||_props$scheme4===void 0?void 0:_props$scheme4.currency,\"):\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",name:\"material_cost\",value:values.material_cost,onChange:handleChange,onBlur:handleBlur}),/*#__PURE__*/React.createElement(FormikValidationError,{name:\"material_cost\",errors:errors,touched:touched}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\",className:\"mr-1\"},t(\"finance:ReplacementCost\"),\" (\",(_props$scheme5=props.scheme)===null||_props$scheme5===void 0?void 0:_props$scheme5.currency,\"):\"),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",className:\"form-control\",name:\"replacement_cost\",value:values.replacement_cost,onChange:handleChange,onBlur:handleBlur}),/*#__PURE__*/React.createElement(FormikValidationError,{name:\"replacement_cost\",errors:errors,touched:touched})))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\",className:\"mr-1\"},t(\"finance:pof\"),\" :\"),/*#__PURE__*/React.createElement(StyledSelect,{name:\"possibility_of_failure\",value:values.possibility_of_failure,options:POSSIBILITY_OF_FAILURE_OPTIONS,onChange:function onChange(_ref3){var name=_ref3.name,value=_ref3.value;setFieldValue(name,value);},onBlur:function onBlur(){setFieldTouched(\"possibility_of_failure\",true);}}),/*#__PURE__*/React.createElement(FormikValidationError,{name:\"possibility_of_failure\",errors:errors,touched:touched}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\",className:\"mr-1\"},t(\"finance:iof\"),\":\"),/*#__PURE__*/React.createElement(StyledSelect,{name:\"impact_of_failure\",value:values.impact_of_failure,options:IMPACT_OF_FAILURE_OPTIONS,onChange:function onChange(_ref4){var name=_ref4.name,value=_ref4.value;setFieldValue(name,value);},onBlur:function onBlur(){setFieldTouched(\"impact_of_failure\",true);}}),/*#__PURE__*/React.createElement(FormikValidationError,{name:\"impact_of_failure\",errors:errors,touched:touched}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\",className:\"mr-1\"},t(\"finance:mitigation\"),\":\"),/*#__PURE__*/React.createElement(StyledSelect,{name:\"mitigation\",value:values.mitigation,options:MITIGATION_OPTIONS,onChange:function onChange(_ref5){var name=_ref5.name,value=_ref5.value;setFieldValue(name,value);},onBlur:function onBlur(){setFieldTouched(\"mitigation\",true);}}),/*#__PURE__*/React.createElement(FormikValidationError,{name:\"mitigation\",errors:errors,touched:touched}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\",className:\"mr-1\"},t(\"finance:person\"),\":\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",name:\"responsible\",value:values.responsible,onChange:handleChange,onBlur:handleBlur}),/*#__PURE__*/React.createElement(FormikValidationError,{name:\"responsible\",errors:errors,touched:touched}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\",className:\"mr-1\"},t(\"finance:applyDate\"),\" \",/*#__PURE__*/React.createElement(TooltipLabel,{id:\"apd\",text:\"The date from which this record  should be applied to the system.\"}),\":\"),((_props$scheme6=props.scheme)===null||_props$scheme6===void 0?void 0:_props$scheme6.system_date_format)===\"nep\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NepaliDatePicker,{value:values.apply_date,name:\"apply_date\",onChange:function onChange(e){setFieldValue(\"apply_date\",e);}})):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(EnglishDatePicker,{name:\"apply_date\",value:values.apply_date,handleChange:function handleChange(e){setFieldValue(\"apply_date\",formatDate(e));}})),/*#__PURE__*/React.createElement(FormikValidationError,{name:\"apply_date\",errors:errors,touched:touched}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\",className:\"mr-1\"},t(\"finance:nextActionDate\"),\" \",/*#__PURE__*/React.createElement(TooltipLabel,{id:\"mada\",text:\"It is a date on which the next maintenance action is scheduled.\"}),\":\"),((_props$scheme7=props.scheme)===null||_props$scheme7===void 0?void 0:_props$scheme7.system_date_format)===\"nep\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(NepaliDatePicker,{value:values.next_action,name:\"next_action\",onChange:function onChange(e){setFieldValue(\"next_action\",e);}})):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(EnglishDatePicker,{name:\"next_action\",value:values.next_action,handleChange:function handleChange(e){setFieldValue(\"next_action\",formatDate(e));}})),/*#__PURE__*/React.createElement(FormikValidationError,{name:\"next_action\",errors:errors,touched:touched}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"\",className:\"mr-1\"},t(\"finance:componentPicture\"),\":\"),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",accept:\"image/png, image/jpeg\",className:\"form-control\",name:\"componant_picture\",onChange:function onChange(e){if(e.target.files){setFieldValue(e.target.name,e.target.files[0]);handleImagePreview(e.target.files[0]);}},onBlur:handleBlur}),/*#__PURE__*/React.createElement(FormikValidationError,{name:\"next_action\",errors:errors,touched:touched}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4\"},imagePreview&&/*#__PURE__*/React.createElement(\"div\",{className:\"form-group \"},/*#__PURE__*/React.createElement(\"div\",{className:\"align-vertical justify-content-end\"},/*#__PURE__*/React.createElement(\"img\",{src:imagePreview,alt:\"\",width:150,height:100}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 text-right\"},/*#__PURE__*/React.createElement(Button,{className:\"btn custom-btn  mr-3\",text:t(\"home:save\"),type:\"submit\",loading:props.postLoading||props.updateLoading,disabled:props.postLoading||props.updateLoading// disabled={authorizing}\n// loading={authorizing}\n}),/*#__PURE__*/React.createElement(Button,{className:\"btn custom-btn-outlined  mr-3\",text:t(\"home:cancel\"),type:\"button\",onClick:function onClick(){return props.toggle();}})));};var mapStateToProps=function mapStateToProps(state){var _state$waterSchemeDat;return{language:state.i18nextData.languageType,schemeSlug:(_state$waterSchemeDat=state.waterSchemeData.waterSchemeDetailsData.data)===null||_state$waterSchemeDat===void 0?void 0:_state$waterSchemeDat.slug,scheme:state.waterSchemeData.waterSchemeDetailsData.data,components:state.component.getComponent.data,supplyBelts:state.supplyBeltsData.getSupplyBeltData.data,postLoading:state.componentInfo.postComponentInfo.isFetching,updateLoading:state.componentInfo.updateComponentInfo.isFetching,yearIntervals:state.waterSchemeData.getYearIntervals.data};};var mapDispatchToProps={getComponentAction:getComponentAction,getSupplyBeltsAction:getSupplyBeltsAction,postComponentInfoAction:postComponentInfoAction,updateComponentInfoAction:updateComponentInfoAction,getDashboardComponentInfoAction:getDashboardComponentInfoAction};var connector=connect(mapStateToProps,mapDispatchToProps);export default connector(ExpenseForm);","map":null,"metadata":{},"sourceType":"module"}