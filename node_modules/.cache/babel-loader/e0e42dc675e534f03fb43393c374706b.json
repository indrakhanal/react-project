{"ast":null,"code":"import{HouseIcon,InstitutionIcon,UserGroupIcon}from\"assets/images/xd\";import{InfoCard}from\"components/UI/InfoCard\";import{formatTime}from\"core/Protected/Home/SupplySchedule\";import{getNumberByLanguage}from\"i18n/i18n\";import React,{useEffect}from\"react\";import{useTranslation}from\"react-i18next\";import{connect}from\"react-redux\";import{getWaterSchemeDetailsAction}from\"store/modules/waterScheme/waterSchemeDetails\";import{getWaterSupplyScheduleAction}from\"store/modules/waterSupplySchedule/getWaterSupplySchedule\";import{getWaterTarrifsAction}from\"store/modules/waterTarrifs/getWaterTarrifs\";import IncomeExpend from\"./IncomeExpend\";import Maintainance from\"./Maintainance\";import Tariff from\"./Tariff\";var HomeMain=function HomeMain(props){var _props$schemeDetails,_props$schemeDetails2,_props$waterSchemeDet,_props$waterSchemeDet2,_props$schemeDetails3,_Date,_props$waterSchemeDet3;var language=props.language,schemeDetails=props.schemeDetails,incomeExpenseData=props.incomeExpenseData;var _useTranslation=useTranslation([\"home\"]),t=_useTranslation.t;useEffect(function(){if(language&&schemeDetails!==null&&schemeDetails!==void 0&&schemeDetails.slug){// props.getWaterTarrifsAction(language, schemeDetails.slug, \"use\");\nprops.getWaterSupplyScheduleAction(language,schemeDetails.slug);}},[language,schemeDetails]);return/*#__PURE__*/React.createElement(\"div\",{className:\"container py-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-9 col-md-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4 col-md-6 mb-md-0 mb-3\"},/*#__PURE__*/React.createElement(InfoCard,{first:true,title:t(\"home:overallNetBalance\"),subTitle:t(\"home:overallNetBalance\"),value:incomeExpenseData===null||incomeExpenseData===void 0?void 0:incomeExpenseData.net_balance},/*#__PURE__*/React.createElement(\"div\",{className:\"infoCard-details\"},/*#__PURE__*/React.createElement(\"div\",{className:\"infoCard-details-item\"},/*#__PURE__*/React.createElement(\"p\",{className:\"infoCard-sub-title2\"},t(\"home:overallNetIncome\")),/*#__PURE__*/React.createElement(\"h6\",{className:\"infoCard-sub-price\",style:{fontFamily:language===\"en\"?\" Roboto\":\"\"}},(_props$schemeDetails=props.schemeDetails)===null||_props$schemeDetails===void 0?void 0:_props$schemeDetails.currency,\" \",incomeExpenseData===null||incomeExpenseData===void 0?void 0:incomeExpenseData.net_income)),/*#__PURE__*/React.createElement(\"div\",{className:\"infoCard-details-item\"},/*#__PURE__*/React.createElement(\"p\",{className:\"infoCard-sub-title2\"},t(\"home:overallNetExpenditure\")),/*#__PURE__*/React.createElement(\"h6\",{className:\"infoCard-sub-price\",style:{fontFamily:language===\"en\"?\" Roboto\":\"\"}},(_props$schemeDetails2=props.schemeDetails)===null||_props$schemeDetails2===void 0?void 0:_props$schemeDetails2.currency,\" \",incomeExpenseData===null||incomeExpenseData===void 0?void 0:incomeExpenseData.net_expense))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-5 col-md-6 mb-md-0 mb-3\"},/*#__PURE__*/React.createElement(InfoCard,{second:true,title:t(\"home:beneficiary\"),subTitle:\"\",value:incomeExpenseData===null||incomeExpenseData===void 0?void 0:incomeExpenseData.total_population},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"infoCard-details-item\"},/*#__PURE__*/React.createElement(\"p\",{className:\"infoCard-sub-title2\"},t(\"home:households\")),/*#__PURE__*/React.createElement(\"h6\",{className:\"infoCard-sub-price\"},/*#__PURE__*/React.createElement(\"img\",{src:HouseIcon,alt:\"\",className:\"icon\"}),\" \",incomeExpenseData===null||incomeExpenseData===void 0?void 0:incomeExpenseData.house_hold))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"infoCard-details-item\"},/*#__PURE__*/React.createElement(\"p\",{className:\"infoCard-sub-title2\"},t(\"home:public\")),/*#__PURE__*/React.createElement(\"h6\",{className:\"infoCard-sub-price\"},/*#__PURE__*/React.createElement(\"img\",{src:UserGroupIcon,alt:\"\",className:\"icon\"}),\" \",incomeExpenseData===null||incomeExpenseData===void 0?void 0:incomeExpenseData.public_connection))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"infoCard-details-item\"},/*#__PURE__*/React.createElement(\"p\",{className:\"infoCard-sub-title2\"},t(\"home:institutions\")),/*#__PURE__*/React.createElement(\"h6\",{className:\"infoCard-sub-price\"},/*#__PURE__*/React.createElement(\"img\",{src:InstitutionIcon,alt:\"\",className:\"icon\"}),\" \",incomeExpenseData===null||incomeExpenseData===void 0?void 0:incomeExpenseData.instutions))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"infoCard-details-item\"},/*#__PURE__*/React.createElement(\"p\",{className:\"infoCard-sub-title2\"},t(\"home:commercial\")),/*#__PURE__*/React.createElement(\"h6\",{className:\"infoCard-sub-price\"},/*#__PURE__*/React.createElement(\"img\",{src:InstitutionIcon,alt:\"\",className:\"icon\"}),\" \",incomeExpenseData===null||incomeExpenseData===void 0?void 0:incomeExpenseData.commercial_connection)))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-3 col-md-6 mb-md-0 mb-3\"},/*#__PURE__*/React.createElement(InfoCard,{title:t(\"home:supply\"),subTitle:t(\"home:dailyAverage\"),value:incomeExpenseData!==null&&incomeExpenseData!==void 0&&incomeExpenseData.daily_avg_supply?(incomeExpenseData===null||incomeExpenseData===void 0?void 0:incomeExpenseData.daily_avg_supply)+\" \"+t(\"home:litre\"):\"\"},/*#__PURE__*/React.createElement(\"div\",{className:\"infoCard-details\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"my-2\"},/*#__PURE__*/React.createElement(IncomeExpend,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"my-2\"},/*#__PURE__*/React.createElement(Maintainance,null))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-3 col-md-12 \"},/*#__PURE__*/React.createElement(\"div\",{className:\"home-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"home-right-card\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"home-right-title\"},t(\"home:supplySchedule\")),props.waterSupplyData&&props.waterSupplyData instanceof Array&&props.waterSupplyData.map(function(item,index){var _item$day;return/*#__PURE__*/React.createElement(\"div\",{className:\"home-right-info\",key:index},/*#__PURE__*/React.createElement(\"h6\",null,(_item$day=item.day)===null||_item$day===void 0?void 0:_item$day.toUpperCase()),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"p\",null,getNumberByLanguage(formatTime(item.time_from)),\" :\",getNumberByLanguage(formatTime(item.time_to)))));})),/*#__PURE__*/React.createElement(\"div\",{className:\"home-right-card\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"home-right-title\"},t(\"home:tariffRates\"),\" \"),/*#__PURE__*/React.createElement(Tariff,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"home-right-card\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"home-right-title\"},t(\"home:generalInformation\")),/*#__PURE__*/React.createElement(\"div\",{className:\"home-right-info\"},/*#__PURE__*/React.createElement(\"h6\",null,t(\"home:name\"),\": \"),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"p\",null,(_props$waterSchemeDet=props.waterSchemeDetails)===null||_props$waterSchemeDet===void 0?void 0:_props$waterSchemeDet.scheme_name))),/*#__PURE__*/React.createElement(\"div\",{className:\"home-right-info\"},/*#__PURE__*/React.createElement(\"h6\",null,t(\"home:address\"),\": \"),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"p\",null,(_props$waterSchemeDet2=props.waterSchemeDetails)===null||_props$waterSchemeDet2===void 0?void 0:_props$waterSchemeDet2.location))),/*#__PURE__*/React.createElement(\"div\",{className:\"home-right-info\"},/*#__PURE__*/React.createElement(\"h6\",null,t(\"home:source\"),\": \"),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"p\",null,(_props$schemeDetails3=props.schemeDetails)===null||_props$schemeDetails3===void 0?void 0:_props$schemeDetails3.water_source))),/*#__PURE__*/React.createElement(\"div\",{className:\"home-right-info\"},/*#__PURE__*/React.createElement(\"h6\",null,t(\"home:builtDate\"),\": \"),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"p\",null,getNumberByLanguage((_Date=new Date((_props$waterSchemeDet3=props.waterSchemeDetails)===null||_props$waterSchemeDet3===void 0?void 0:_props$waterSchemeDet3.system_built_date))===null||_Date===void 0?void 0:_Date.toLocaleDateString())))))))));};var mapStateToProps=function mapStateToProps(state){return{language:state.i18nextData.languageType,schemeDetails:state.waterSchemeData.waterSchemeDetailsData.data,incomeExpenseData:state.reportData.incomeExpenseData.data,waterTarrifs:state.waterTarrifsData.waterTarrifData.data,waterSupplyData:state.waterSupplyData.waterScheduleData.data,waterSchemeDetails:state.waterSchemeData.waterSchemeDetailsData.data};};var mapDispatchToProps={getWaterTarrifsAction:getWaterTarrifsAction,getWaterSupplyScheduleAction:getWaterSupplyScheduleAction,getWaterSchemeDetailsAction:getWaterSchemeDetailsAction};var connector=connect(mapStateToProps,mapDispatchToProps);export default connector(HomeMain);","map":null,"metadata":{},"sourceType":"module"}