(this.webpackJsonpkhanipani=this.webpackJsonpkhanipani||[]).push([[23],{227:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(225),r=n(0),o=n.n(r),i=(n(246),["forwardedRef","loading","text","children"]);function s(e){var t=e.forwardedRef,n=e.loading,r=e.text,s=e.children,c=Object(a.a)(e,i);return o.a.createElement("button",Object.assign({},c,{ref:t,className:"".concat(e.className," ").concat(e.small?" custom-btn-small":"custom-btn")}),s?n?o.a.createElement("div",{className:n?"loading":""},o.a.createElement("div",null,s),n&&o.a.createElement("div",{className:"spinner"})):s:o.a.createElement("div",{className:n?"loading":""},o.a.createElement("div",null,r),n&&o.a.createElement("div",{className:"spinner"})))}},238:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n.n(a),o=n(594);function i(e){var t=e.name,n=e.touched,a=e.errors,o=e.index,i=e.keyName;return"".concat(i)in a&&"".concat(i)in n&&a[i][o]?r.a.createElement("span",{className:"error font-weight-bold",style:{fontStyle:"normal"}}," ",a[i][o][t]&&r.a.createElement("span",{className:"ic-error"})," ",a[i][o][t]):r.a.createElement("span",null)}t.b=function(e){var t=e.name,n=e.touched,a=e.errors,i=Object(o.a)().t;return n[t]&&a[t]?r.a.createElement("div",{className:"text-left"},r.a.createElement("span",{className:"error font-weight-bold"}," ",r.a.createElement("span",{className:"ic-error"})," ",a[t]?i(a[t]):"")):r.a.createElement(r.a.Fragment,null)}},246:function(e,t,n){},288:function(e,t,n){var a=n(289);e.exports=function(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},289:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a},e.exports.__esModule=!0,e.exports.default=e.exports},334:function(e,t,n){var a=n(335),r=n(336),o=n(288),i=n(337);e.exports=function(e,t){return a(e)||r(e,t)||o(e,t)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},335:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},336:function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(c){s=!0,r=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw r}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},337:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},594:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(334),r=n.n(a),o=n(52),i=n.n(o),s=n(0),c=n(180);function l(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var u={};function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&u[t[0]]||("string"===typeof t[0]&&(u[t[0]]=new Date),l.apply(void 0,t))}function f(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return d("i18n.languages were undefined or empty",t.languages),!0;var a=t.languages[0],r=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===a.toLowerCase())return!0;var i=function(e,n){var a=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===a||2===a};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(a,e)||(!t.services.backendConnector.backend||!(!i(a,e)||r&&!i(o,e))))}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,a=Object(s.useContext)(c.a)||{},o=a.i18n,i=a.defaultNS,l=n||o||Object(c.d)();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new c.b),!l){d("You will need to pass in an i18next instance by using initReactI18next");var u=function(e){return Array.isArray(e)?e[e.length-1]:e},p=[u,{},!1];return p.t=u,p.i18n={},p.ready=!1,p}l.options.react&&void 0!==l.options.react.wait&&d("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var b=g(g(g({},Object(c.c)()),l.options.react),t),v=b.useSuspense,h=b.keyPrefix,y=e||i||l.options&&l.options.defaultNS;y="string"===typeof y?[y]:y||["translation"],l.reportNamespaces.addUsedNamespaces&&l.reportNamespaces.addUsedNamespaces(y);var O=(l.isInitialized||l.initializedStoreOnce)&&y.every((function(e){return m(e,l,b)}));function w(){return l.getFixedT(null,"fallback"===b.nsMode?y:y[0],h)}var x=Object(s.useState)(w),E=r()(x,2),j=E[0],N=E[1],S=Object(s.useRef)(!0);Object(s.useEffect)((function(){var e=b.bindI18n,t=b.bindI18nStore;function n(){S.current&&N(w)}return S.current=!0,O||v||f(l,y,(function(){S.current&&N(w)})),e&&l&&l.on(e,n),t&&l&&l.store.on(t,n),function(){S.current=!1,e&&l&&e.split(" ").forEach((function(e){return l.off(e,n)})),t&&l&&t.split(" ").forEach((function(e){return l.store.off(e,n)}))}}),[l,y.join()]);var k=Object(s.useRef)(!0);Object(s.useEffect)((function(){S.current&&!k.current&&N(w),k.current=!1}),[l]);var C=[j,l,O];if(C.t=j,C.i18n=l,C.ready=O,O)return C;if(!O&&!v)return C;throw new Promise((function(e){f(l,y,(function(){e()}))}))}},596:function(e,t,n){"use strict";n.r(t);var a=n(27),r=n(2),o=n(1),i=n.n(o),s=n(238),c=n(25),l=n(227),u=n(251),d=n(0),f=n.n(d),m=n(594),p=n(35),g=n(12),b=n(37),v=n(92),h=n(44),y=n(252);var O={loginUser:v.b,switchI18nLanguage:b.c,addUserDetails:h.a},w=Object(p.b)((function(e){return{loginData:e.loginData}}),O);t.default=w((function(e){var t=e.loginData,n=e.loginUser,a=(e.switchI18nLanguage,Object(g.g)()),o=(Object(p.e)((function(e){return e.i18nextData}),p.c),Object(d.useCallback)(function(){var t=Object(r.a)(i.a.mark((function t(r){var o,s,l,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(r);case 2:null!==(l=t.sent)&&void 0!==l&&null!==(o=l.data)&&void 0!==o&&null!==(s=o.tokens)&&void 0!==s&&s.access?(e.addUserDetails(l.data),a.push("/auth/home")):c.c.error(null===l||void 0===l||null===(u=l.data)||void 0===u?void 0:u.detail);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[n,a]));return f.a.createElement("div",{className:"app bg-white"},f.a.createElement("div",{className:"container"},f.a.createElement("div",{className:"auth-wrapper"},f.a.createElement(x,{handleLogin:o,authorizing:t.isFetching}))))}));var x=function(e){var t=e.authorizing,n=e.handleLogin,r=Object(m.a)(["login","register"]).t,o=Object(d.useState)(!1),i=Object(a.a)(o,2),c=i[0],p=i[1],g=Object(d.useState)({username:"",password:""}),b=Object(a.a)(g,1)[0],v=Object(y.e)().shape({username:Object(y.g)().required("login:input.username.error-required"),password:Object(y.g)().required("login:input.password.error-required")}),h=Object(u.d)({initialValues:b,validationSchema:v,onSubmit:function(e,t){(0,t.setSubmitting)(!1),n(e)}}),O=h.values,w=h.handleChange,x=h.handleSubmit,E=h.errors,j=h.touched;return f.a.createElement("div",{className:"auth-body"},f.a.createElement("form",{className:"",onSubmit:x,autoComplete:"off"},f.a.createElement("p",{className:""},"Water Asset Management System"),f.a.createElement("h6",{className:"mb-2 font-bold"},"CONFIGURATIONS"),f.a.createElement("div",{className:"auth-form"},f.a.createElement("div",{className:"form-group align-vertical"},f.a.createElement("label",{htmlFor:"",className:"mr-4 label"},r("login:input.username.title")),f.a.createElement("input",{className:"form-control",name:"username",value:O.username,onChange:w,required:!0}),f.a.createElement(s.b,{name:"username",errors:E,touched:j})),f.a.createElement("div",{className:"form-group align-vertical mt-4"},f.a.createElement("label",{htmlFor:"",className:"mr-4 label"},r("login:input.password.title")),f.a.createElement("input",{className:"form-control",type:"password",name:"password",value:O.password,onChange:w,required:!0}),f.a.createElement("span",{className:"".concat(c?"ic-view":"ic-hidden"," text-coolGray600"),role:"button",onClick:function(){return p(!c)}}),f.a.createElement(s.b,{name:"password",errors:E,touched:j})),f.a.createElement("div",{className:"auth-footer"},f.a.createElement(l.a,{className:"btn btn-outlined-primary",text:r("login:title"),disabled:t,loading:t})))))}}}]);